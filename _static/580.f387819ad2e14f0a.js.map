{"version":3,"file":"580.f387819ad2e14f0a.js","mappings":"oIAeIA,EAAS,CAAC,EAEd,MAAMC,UAAiB,IACnB,WAAAC,CAAYC,GACRC,MAAMD,GACN,IAAIE,EAAOF,EAAKE,KAChBC,KAAKC,SAAWF,EAChBC,KAAKE,MAAQH,EAAKI,GAClBH,KAAKI,SAAWJ,KAAKK,sBAAsBN,EAAM,aACjDC,KAAKM,QAAUN,KAAKK,sBAAsBN,EAAM,gBAChDC,KAAKO,aAAe,QAChBP,KAAKK,sBAAsBN,EAAM,iBACjCC,KAAKO,aAAe,QAGxBP,KAAKQ,aAAeT,EAAKU,QAAQC,KACjCV,KAAKW,aAAeZ,EAAKU,QAAQG,KAE5BZ,KAAKM,UACFN,KAAKI,SACLJ,KAAKa,iBAELb,KAAKc,YAELd,KAAKe,WACLf,KAAKgB,aAAaP,QAAQQ,SAAWjB,KAAKe,WAIlD,IAAIG,EAAalB,KAAKgB,aAAaG,eAAeC,cAAc,qBAC5DF,GAAoC,SAAtBlB,KAAKO,eAEnBW,EAAWG,MAAMC,QAAU,QAE/BtB,KAAKuB,0BACT,CAKA,SAAAT,GACId,KAAKgB,aAAeQ,SAASC,cAAc,OAC3CzB,KAAKgB,aAAab,GAAKH,KAAKE,MAC5BF,KAAKgB,aAAaK,MAAMC,QAAUtB,KAAKO,aACvCP,KAAKgB,aAAaU,UAAY1B,KAAKC,SAASyB,UAC5C1B,KAAKC,SAAS0B,YAAY3B,KAAKgB,aACnC,CACA,cAAAH,GACIb,KAAKgB,aAAeQ,SAASC,cAAc,YAC3CzB,KAAKgB,aAAab,GAAKH,KAAKE,MACxBF,KAAKQ,eAAcR,KAAKgB,aAAaN,KAAOV,KAAKQ,cACjDR,KAAKW,eAAcX,KAAKgB,aAAaJ,KAAOZ,KAAKW,cACrDX,KAAKgB,aAAaU,UAAY1B,KAAKC,SAASyB,UAC5C1B,KAAKgB,aAAaY,UAAUC,IAAI,qBAChC7B,KAAKC,SAAS0B,YAAY3B,KAAKgB,aACnC,EAQJQ,SAASM,iBAAiB,4BAA4B,WAClDN,SAASO,iBAAiB,6BAA6BC,SAAQ,SAAUC,GACrE,IACIvC,EAAOuC,EAAG9B,IAAM,IAAIR,EAAS,CAAEI,KAAMkC,GACzC,CAAE,MAAOC,GACLC,QAAQC,IAAI,4BAA4BH,EAAG9B,KAC/C,CACJ,GACJ,SAEwC,IAA7BkC,OAAOC,oBACdD,OAAOC,kBAAoB,CAAC,GAGhCD,OAAOC,kBAAkBC,SAAW,SAAU1C,GAC1C,OAAO,IAAIF,EAASE,EACxB,C","sources":["webpack://WebComponents/./runestone/datafile/js/datafile.js"],"sourcesContent":["/*==========================================\n=======     Master datafile.js      ========\n============================================\n===     This file contains the JS for    ===\n===   the Runestone Datafile component.  ===\n============================================\n===              Created by              ===\n===           Isaiah Mayerchak           ===\n===                6/8/15                ===\n==========================================*/\n\"use strict\";\n\nimport RunestoneBase from \"../../common/js/runestonebase\";\nimport \"../css/datafile.css\";\n\nvar dfList = {}; // Dictionary that contains all instances of Datafile objects\n\nclass DataFile extends RunestoneBase {\n    constructor(opts) {\n        super(opts);\n        var orig = opts.orig; // entire <pre> element that will be replaced by new HTML\n        this.origElem = orig;\n        this.divid = orig.id;\n        this.dataEdit = this.parseBooleanAttribute(orig, \"data-edit\");\n        this.isImage = this.parseBooleanAttribute(orig, \"data-isimage\");\n        this.displayClass = \"block\"; // Users can specify the non-edit component to be hidden--default is not hidden\n        if (this.parseBooleanAttribute(orig, \"data-hidden\")) {\n            this.displayClass = \"none\";\n        }\n        // Users can specify numbers of rows/columns when editing is true\n        this.numberOfRows = orig.dataset.rows;\n        this.numberOfCols = orig.dataset.cols;\n\n        if (!this.isImage) {\n            if (this.dataEdit) {\n                this.createTextArea();\n            } else {\n                this.createPre();\n            }\n            if (this.fileName) {\n                this.containerDiv.dataset.filename = this.fileName;\n            }\n        }\n        // search for a parent div with the class 'datafile_caption' in plain javascript\n        let captionDiv = this.containerDiv.parentElement?.querySelector(\".datafile_caption\");\n        if (captionDiv && this.displayClass === \"none\") {\n            // hide the captionDiv if the datafile is hidden\n            captionDiv.style.display = \"none\";\n        }\n        this.indicate_component_ready();\n    }\n    /*=====================================\n    == Create either <pre> or <textarea> ==\n    ==  depending on if editing is true  ==\n    ==================================*/\n    createPre() {\n        this.containerDiv = document.createElement(\"pre\");\n        this.containerDiv.id = this.divid;\n        this.containerDiv.style.display = this.displayClass;\n        this.containerDiv.innerHTML = this.origElem.innerHTML;\n        this.origElem.replaceWith(this.containerDiv);\n    }\n    createTextArea() {\n        this.containerDiv = document.createElement(\"textarea\");\n        this.containerDiv.id = this.divid;\n        if (this.numberOfRows) this.containerDiv.rows = this.numberOfRows;\n        if (this.numberOfCols) this.containerDiv.cols = this.numberOfCols;\n        this.containerDiv.innerHTML = this.origElem.innerHTML;\n        this.containerDiv.classList.add(\"datafiletextfield\");\n        this.origElem.replaceWith(this.containerDiv);\n    }\n}\n\n/*=================================\n== Find the custom HTML tags and ==\n==   execute our code on them    ==\n=================================*/\n\ndocument.addEventListener(\"runestone:login-complete\", function () {\n    document.querySelectorAll(\"[data-component=datafile]\").forEach(function (el) {\n        try {\n            dfList[el.id] = new DataFile({ orig: el });\n        } catch (err) {\n            console.log(`Error rendering DataFile ${el.id}`);\n        }\n    });\n});\n\nif (typeof window.component_factory === \"undefined\") {\n    window.component_factory = {};\n}\n\nwindow.component_factory.datafile = function (opts) {\n    return new DataFile(opts);\n};\n"],"names":["dfList","DataFile","constructor","opts","super","orig","this","origElem","divid","id","dataEdit","parseBooleanAttribute","isImage","displayClass","numberOfRows","dataset","rows","numberOfCols","cols","createTextArea","createPre","fileName","containerDiv","filename","captionDiv","parentElement","querySelector","style","display","indicate_component_ready","document","createElement","innerHTML","replaceWith","classList","add","addEventListener","querySelectorAll","forEach","el","err","console","log","window","component_factory","datafile"],"sourceRoot":""}