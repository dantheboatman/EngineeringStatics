{"version":3,"file":"420.8dae5ad08a4e52ad.js","mappings":"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","sources":["webpack://WebComponents/./runestone/parsons/js/lineGrader.js","webpack://WebComponents/./runestone/parsons/js/dagHelpers.js","webpack://WebComponents/./runestone/parsons/js/dagGrader.js","webpack://WebComponents/./runestone/parsons/js/parsonsLine.js","webpack://WebComponents/./runestone/parsons/js/parsonsBlock.js","webpack://WebComponents/./runestone/parsons/js/placeholderBlock.js","webpack://WebComponents/./runestone/parsons/js/placeholderLine.js","webpack://WebComponents/./runestone/parsons/js/settledBlock.js","webpack://WebComponents/./runestone/parsons/js/parsons.js","webpack://WebComponents/./runestone/parsons/js/timedparsons.js","webpack://WebComponents/./runestone/parsons/js/parsons-i18n.pt-br.js","webpack://WebComponents/./runestone/parsons/js/parsons-i18n.en.js","webpack://WebComponents/./runestone/parsons/js/prettify.js","webpack://WebComponents/./runestone/parsons/js/hammer.min.js"],"sourcesContent":["export default class LineBasedGrader {\n    constructor(problem) {\n        this.problem = problem;\n    }\n    // Use a LIS (Longest Increasing Subsequence) algorithm to return the indexes\n    // that are not part of that subsequence.\n    inverseLISIndices(arr) {\n        // Get all subsequences\n        var allSubsequences = [];\n        for (var i = 0; i < arr.length; i++) {\n            var subsequenceForCurrent = [arr[i]],\n                current = arr[i],\n                lastElementAdded = -1;\n            for (var j = i; j < arr.length; j++) {\n                var subsequent = arr[j];\n                if (subsequent > current && lastElementAdded < subsequent) {\n                    subsequenceForCurrent.push(subsequent);\n                    lastElementAdded = subsequent;\n                }\n            }\n            allSubsequences.push(subsequenceForCurrent);\n        }\n        // Figure out the longest one\n        var longestSubsequenceLength = -1;\n        var longestSubsequence;\n        for (let i in allSubsequences) {\n            var subs = allSubsequences[i];\n            if (subs.length > longestSubsequenceLength) {\n                longestSubsequenceLength = subs.length;\n                longestSubsequence = subs;\n            }\n        }\n        // Create the inverse indexes\n        var indexes = [];\n        var lIndex = 0;\n        for (let i = 0; i < arr.length; i++) {\n            if (lIndex > longestSubsequence.length) {\n                indexes.push(i);\n            } else {\n                if (arr[i] == longestSubsequence[lIndex]) {\n                    lIndex += 1;\n                } else {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    }\n    // grade that element, returning the state\n    grade() {\n        var problem = this.problem;\n        problem.clearFeedback();\n        this.correctLines = 0;\n        this.percentLines = 0;\n        this.incorrectIndents = 0;\n        var solutionLines = problem.solution;\n        var answerLines = problem.answerLines();\n        var i;\n        var state;\n        this.percentLines =\n            Math.min(answerLines.length, solutionLines.length) /\n            Math.max(answerLines.length, solutionLines.length);\n        if (answerLines.length < solutionLines.length) {\n            state = \"incorrectTooShort\";\n            this.correctLength = false;\n        } else if (answerLines.length == solutionLines.length) {\n            this.correctLength = true;\n        } else {\n            state = \"incorrectMoveBlocks\";\n            this.correctLength = false;\n        }\n\n        // Determine whether the code **that is there** is in the correct order\n        // If there is too much or too little code this only matters for\n        // calculating a percentage score.\n        let isCorrectOrder = this.checkCorrectOrdering(solutionLines, answerLines)\n\n        // Determine whether blocks are indented correctly\n        let isCorrectIndents = this.checkCorrectIndentation(solutionLines, answerLines);\n\n        if (\n            isCorrectIndents &&\n            isCorrectOrder &&\n            this.correctLength\n        ) {\n            // Perfect\n            state = \"correct\";\n        } else if (this.correctLength && isCorrectOrder) {\n            state = \"incorrectIndent\";\n        } else if (!isCorrectOrder && state != \"incorrectTooShort\") {\n            state = \"incorrectMoveBlocks\";\n        }\n        this.calculatePercent();\n        this.graderState = state;\n\n        return state;\n    }\n\n    checkCorrectIndentation(solutionLines, answerLines) {\n        if(!this.problem.usesIndentation())\n            return true;\n\n        this.indentLeft = [];\n        this.indentRight = [];\n        let loopLimit = Math.min(solutionLines.length, answerLines.length);\n        for (let i = 0; i < loopLimit; i++) {\n            if (answerLines[i].viewIndent() < solutionLines[i].indent) {\n                this.indentRight.push(answerLines[i]);\n            } else if (answerLines[i].viewIndent() > solutionLines[i].indent) {\n                this.indentLeft.push(answerLines[i]);\n            }\n        }\n        this.incorrectIndents =\n            this.indentLeft.length + this.indentRight.length;\n\n        return this.incorrectIndents == 0;\n    }\n\n    checkCorrectOrdering(solutionLines, answerLines) {\n        let isCorrectOrder = true;\n        this.correctLines = 0;\n        this.solutionLength = solutionLines.length;\n        let loopLimit = Math.min(solutionLines.length, answerLines.length);\n        for (let i = 0; i < loopLimit; i++) {\n            if (answerLines[i].text !== solutionLines[i].text) {\n                isCorrectOrder = false;\n            } else {\n                this.correctLines += 1;\n            }\n        }\n        return isCorrectOrder\n    }\n\n    calculatePercent() {\n        let numLines = this.percentLines * 0.2;\n        let lines = this.problem.answerLines().length;\n        let numCorrectBlocks = (this.correctLines / lines) * 0.4;\n        let numCorrectIndents =\n            ((this.correctLines - this.incorrectIndents) / lines) * 0.4;\n\n        let score = numLines + numCorrectBlocks + numCorrectIndents;\n        score = Math.max(score, 0);\n        this.problem.percent = score;\n    }\n}\n","\"use strict\";\n/**\n * This file adapted from JSNetworkX: https://github.com/fkling/JSNetworkX\n * Copyright (C) 2012 Felix Kling <felix.kling@gmx.net>\n * JSNetworkX is distributed with the BSD license\n */\n\nexport function hasPath(G, { source, target }) {\n  try {\n    bidirectionalShortestPath(G, source, target);\n  } catch (error) {\n    if (error instanceof JSNetworkXNoPath) {\n      return false;\n    }\n    throw error;\n  }\n  return true;\n}\n\nfunction nodesAreEqual(a, b) {\n  return a === b || (typeof a === \"object\" && a.toString() === b.toString());\n}\n\nfunction bidirectionalShortestPath(G, source, target) {\n  // call helper to do the real work\n  var [pred, succ, w] = bidirectionalPredSucc(G, source, target);\n\n  // build path from pred+w+succ\n  var path = [];\n  // from source to w\n  while (w != null) {\n    path.push(w);\n    w = pred.get(w);\n  }\n  w = succ.get(path[0]);\n  path.reverse();\n  // from w to target\n  while (w != null) {\n    path.push(w);\n    w = succ.get(w);\n  }\n  return path;\n}\n\nfunction bidirectionalPredSucc(G, source, target) {\n  // does BFS from both source and target and meets in the middle\n  if (nodesAreEqual(source, target)) {\n    return [new Map([[source, null]]), new Map([[target, null]]), source];\n  }\n\n  // handle either directed or undirected\n  var gpred, gsucc;\n  gpred = G.predecessorsIter.bind(G);\n  gsucc = G.successorsIter.bind(G);\n\n  // predecesssor and successors in search\n  var pred = new Map([[source, null]]);\n  var succ = new Map([[target, null]]);\n  //\n  // initialize fringes, start with forward\n  var forwardFringe = [source];\n  var reverseFringe = [target];\n  var thisLevel;\n\n  /*jshint newcap:false*/\n  while (forwardFringe.length > 0 && reverseFringe.length > 0) {\n    if (forwardFringe.length <= reverseFringe.length) {\n      thisLevel = forwardFringe;\n      forwardFringe = [];\n      for (let v of thisLevel) {\n        for (let w of gsucc(v)) {\n          if (!pred.has(w)) {\n            forwardFringe.push(w);\n            pred.set(w, v);\n          }\n          if (succ.has(w)) {\n            return [pred, succ, w]; // found path\n          }\n        }\n      }\n    } else {\n      thisLevel = reverseFringe;\n      reverseFringe = [];\n      for (let v of thisLevel) {\n        for (let w of gpred(v)) {\n          if (!succ.has(w)) {\n            reverseFringe.push(w);\n            succ.set(w, v);\n          }\n          if (pred.has(w)) {\n            return [pred, succ, w]; // found path\n          }\n        }\n      }\n    }\n  }\n  throw new JSNetworkXNoPath(\n    \"No path between \" + source.toString() + \" and \" + target.toString() + \".\"\n  );\n}\n\nfunction topologicalSort(G, optNbunch) {\n  // nonrecursive version\n  var seen = new Set();\n  var orderExplored = []; // provide order and\n  // fast search without more general priorityDictionary\n  var explored = new Set();\n\n  if (optNbunch == null) {\n    optNbunch = G.nodesIter();\n  }\n\n  for (let v of optNbunch) {\n    // process all vertices in G\n    if (explored.has(v)) {\n      return; // continue\n    }\n\n    var fringe = [v]; // nodes yet to look at\n    while (fringe.length > 0) {\n      var w = fringe[fringe.length - 1]; // depth first search\n      if (explored.has(w)) {\n        // already looked down this branch\n        fringe.pop();\n        continue;\n      }\n      seen.add(w); // mark as seen\n      // Check successors for cycles for new nodes\n      var newNodes = [];\n      /*eslint-disable no-loop-func*/\n      G.get(w).forEach(function (_, n) {\n        if (!explored.has(n)) {\n          if (seen.has(n)) {\n            // CYCLE !!\n            throw new JSNetworkXUnfeasible(\"Graph contains a cycle.\");\n          }\n          newNodes.push(n);\n        }\n      });\n      /*eslint-enable no-loop-func*/\n      if (newNodes.length > 0) {\n        // add new nodes to fringe\n        fringe.push.apply(fringe, newNodes);\n      } else {\n        explored.add(w);\n        orderExplored.unshift(w);\n      }\n    }\n  }\n\n  return orderExplored;\n}\n\nexport function isDirectedAcyclicGraph(G) {\n  try {\n    topologicalSort(G);\n    return true;\n  } catch (ex) {\n    if (ex instanceof JSNetworkXUnfeasible) {\n      return false;\n    }\n    throw ex;\n  }\n}\n\nexport class DiGraph {\n  constructor() {\n    this.graph = {}; // dictionary for graph attributes\n    this.node = new Map(); // dictionary for node attributes\n    // We store two adjacency lists:\n    // the predecessors of node n are stored in the dict self.pred\n    // the successors of node n are stored in the dict self.succ=self.adj\n    this.adj = new Map(); // empty adjacency dictionary\n    this.pred = new Map(); // predecessor\n    this.succ = this.adj; // successor\n\n    this.edge = this.adj;\n  }\n\n  addNode(n) {\n    if (!this.succ.has(n)) {\n      this.succ.set(n, new Map());\n      this.pred.set(n, new Map());\n      this.node.set(n);\n    }\n  }\n\n  addEdge(u, v) {\n    // add nodes\n    if (!this.succ.has(u)) {\n      this.succ.set(u, new Map());\n      this.pred.set(u, new Map());\n      this.node.set(u, {});\n    }\n\n    if (!this.succ.has(v)) {\n      this.succ.set(v, new Map());\n      this.pred.set(v, new Map());\n      this.node.set(v, {});\n    }\n\n    // add the edge\n    var datadict = this.adj.get(u).get(v) || {};\n    this.succ.get(u).set(v, datadict);\n    this.pred.get(v).set(u, datadict);\n  }\n\n  nodes(optData = false) {\n    return Array.from(optData ? this.node.entries() : this.node.keys());\n  }\n\n  edges(optNbunch, optData = false) {\n    return Array.from(this.edgesIter(optNbunch, optData));\n  }\n\n  nodesIter(optData = false) {\n    if (optData) {\n      return toIterator(this.node);\n    }\n    return this.node.keys();\n  }\n\n  get(n) {\n    var value = this.adj.get(n);\n    if (typeof value === \"undefined\") {\n      throw new KeyError(\"Graph does not contain node \" + n + \".\");\n    }\n    return value;\n  }\n\n  numberOfNodes() {\n    return this.node.size;\n  }\n\n  *nbunchIter(optNbunch) {\n    if (optNbunch == null) {\n      // include all nodes\n      /*jshint expr:true*/\n      yield* this.adj.keys();\n    } else if (this.hasNode(optNbunch)) {\n      // if nbunch is a single node\n      yield optNbunch;\n    } else {\n      // if nbunch is a sequence of nodes\n      var adj = this.adj;\n\n      try {\n        for (var n of toIterator(optNbunch)) {\n          if (adj.has(n)) {\n            yield n;\n          }\n        }\n      } catch (ex) {\n        if (ex instanceof TypeError) {\n          throw new JSNetworkXError(\n            \"nbunch is not a node or a sequence of nodes\"\n          );\n        }\n      }\n    }\n  }\n\n  *edgesIter(optNbunch, optData = false) {\n    // handle calls with opt_data being the only argument\n    if (isBoolean(optNbunch)) {\n      optData = optNbunch;\n      optNbunch = undefined;\n    }\n\n    var nodesNbrs;\n\n    if (optNbunch === undefined) {\n      nodesNbrs = this.adj;\n    } else {\n      nodesNbrs = mapIterator(this.nbunchIter(optNbunch), (n) =>\n        tuple2(n, this.adj.get(n))\n      );\n    }\n\n    for (var nodeNbrs of nodesNbrs) {\n      for (var nbrData of nodeNbrs[1]) {\n        var result = [nodeNbrs[0], nbrData[0]];\n        if (optData) {\n          result[2] = nbrData[1];\n        }\n        yield result;\n      }\n    }\n  }\n\n  reverse(optCopy = true) {\n    var H;\n    if (optCopy) {\n      H = new this.constructor(null, {\n        name: \"Reverse of (\" + this.name + \")\",\n      });\n      H.addNodesFrom(this);\n      H.addEdgesFrom(\n        mapIterator(this.edgesIter(null, true), (edge) =>\n          tuple3c(edge[1], edge[0], deepcopy(edge[2]), edge)\n        )\n      );\n      H.graph = deepcopy(this.graph);\n      H.node = deepcopy(this.node);\n    } else {\n      var thisPred = this.pred;\n      var thisSucc = this.succ;\n\n      this.succ = thisPred;\n      this.pred = thisSucc;\n      this.adj = this.succ;\n      H = this;\n    }\n    return H;\n  }\n\n  successorsIter(n) {\n    var nbrs = this.succ.get(n);\n    if (nbrs !== undefined) {\n      return nbrs.keys();\n    }\n    throw new JSNetworkXError(\n      sprintf('The node \"%j\" is not in the digraph.', n)\n    );\n  }\n\n  predecessorsIter(n) {\n    var nbrs = this.pred.get(n);\n    if (nbrs !== undefined) {\n      return nbrs.keys();\n    }\n    throw new JSNetworkXError(\n      sprintf('The node \"%j\" is not in the digraph.', n)\n    );\n  }\n\n  successors(n) {\n    return Array.from(this.successorsIter(n));\n  }\n\n  predecessors(n) {\n    return Array.from(this.predecessorsIter(n));\n  }\n}\n\nclass JSNetworkXException {\n  constructor(message) {\n    this.name = \"JSNetworkXException\";\n    this.message = message;\n  }\n}\n\nclass JSNetworkXAlgorithmError extends JSNetworkXException {\n  constructor(message) {\n    super(message);\n    this.name = \"JSNetworkXAlgorithmError\";\n  }\n}\n\nclass JSNetworkXError extends JSNetworkXException {\n  constructor(message) {\n    super(message);\n    this.name = \"JSNetworkXError\";\n  }\n}\n\nclass JSNetworkXUnfeasible extends JSNetworkXAlgorithmError {\n  constructor(message) {\n    super(message);\n    this.name = \"JSNetworkXUnfeasible\";\n  }\n}\n\nclass JSNetworkXNoPath extends JSNetworkXUnfeasible {\n  constructor(message) {\n    super(message);\n    this.name = \"JSNetworkXNoPath\";\n  }\n}\n\n// function from LoDash, needed by functions from JSNetworkX\nfunction isObjectLike(value) {\n  return !!value && typeof value == \"object\";\n}\n\n// function from LoDash, needed by functions from JSNetworkX\nfunction isBoolean(value) {\n  var boolTag = \"[object Boolean]\";\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && Object.prototype.toString.call(value) == boolTag)\n  );\n}\n","import LineBasedGrader from \"./lineGrader\";\nimport { DiGraph, hasPath, isDirectedAcyclicGraph } from \"./dagHelpers\";\n\nfunction graphToNX(answerLines) {\n  var graph = new DiGraph();\n  for (let line1 of answerLines) {\n    graph.addNode(line1.tag);\n    for (let line2tag of line1.depends) {\n      // the depends graph lists the *incoming* edges of a node\n      graph.addEdge(line2tag, line1.tag);\n    }\n  }\n  return graph;\n}\n\nfunction isVertexCover(graph, vertexCover) {\n  for (let edge of graph.edges()) {\n    if (!(vertexCover.has(edge[0]) || vertexCover.has(edge[1]))) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Find all subsets of the set using the correspondence of subsets of\n// a set to binary string whose length are the size of the set\nfunction allSubsets(arr) {\n  let subsets = {};\n  for (let i = 0; i <= arr.length; i++) {\n    subsets[i] = [];\n  }\n  for (let i = 0; i < Math.pow(2, arr.length); i++) {\n    let bin = i.toString(2);\n    while (bin.length < arr.length) {\n      bin = \"0\" + bin;\n    }\n    let subset = new Set();\n    for (let j = 0; j < bin.length; j++) {\n      if (bin[j] == \"1\") {\n        subset.add(arr[j]);\n      }\n    }\n    subsets[subset.size].push(subset);\n  }\n  return subsets;\n}\n\nexport default class DAGGrader extends LineBasedGrader {\n  inverseLISIndices(arr, inSolution) {\n    // For more details and a proof of the correctness of the algorithm, see the paper: https://arxiv.org/abs/2204.04196\n\n    var solution = this.problem.solution;\n    var answerLines = inSolution.map((block) => block.lines[0]); // assume NOT adaptive for DAG grading (for now)\n\n    let graph = graphToNX(solution);\n\n    let seen = new Set();\n    let problematicSubgraph = new DiGraph();\n    for (let line1 of answerLines) {\n      for (let line2 of seen) {\n        let problematic = hasPath(graph, {\n          source: line1.tag,\n          target: line2.tag,\n        });\n        if (problematic) {\n          problematicSubgraph.addEdge(line1.tag, line2.tag);\n        }\n      }\n\n      seen.add(line1);\n    }\n\n    let mvc = null;\n    let subsets = allSubsets(problematicSubgraph.nodes());\n    for (let i = 0; i <= problematicSubgraph.numberOfNodes(); i++) {\n      for (let subset of subsets[i]) {\n        if (isVertexCover(problematicSubgraph, subset)) {\n          mvc = subset;\n          break;\n        }\n      }\n      if (mvc != null) {\n        break;\n      }\n    }\n\n    let indices = [...mvc].map((tag) => {\n      for (let i = 0; i < answerLines.length; i++) {\n        if (answerLines[i].tag === tag) return i;\n      }\n    });\n    return indices;\n  }\n\n  checkCorrectIndentation() {\n      if(!this.problem.usesIndentation())\n          return true;\n\n      this.indentLeft = [];\n      this.indentRight = [];\n      // For dag problems, only check the indentation of each block in the problem\n      for (const block of this.problem.blocks) {\n          // Skip distractor blocks\n          if (block.isDistractor())\n              continue;\n\n          const curIndent = block.indent;\n          const expectedIndent = block.solutionIndent();\n          // If missmatch, add first line of block to the correct indent list for\n          // UI updating\n          if (curIndent < expectedIndent)\n              this.indentRight.push(block.lines[0]);\n          else if (curIndent > expectedIndent)\n              this.indentLeft.push(block.lines[0]);\n      }\n      \n      this.incorrectIndents =\n          this.indentLeft.length + this.indentRight.length;\n\n      return this.incorrectIndents == 0;\n  }\n\n  checkCorrectOrdering(solutionLines, answerLines) {\n    if (!isDirectedAcyclicGraph(graphToNX(solutionLines))) {\n      throw \"Dependency between blocks does not form a Directed Acyclic Graph; Problem unsolvable.\";\n    }\n\n    let seen = new Set();\n    let isCorrectOrder = true;\n    this.correctLines = 0;\n    this.solutionLength = solutionLines.length;\n    let loopLimit = Math.min(solutionLines.length, answerLines.length);\n    for (let i = 0; i < loopLimit; i++) {\n      let line = answerLines[i];\n      if (line.distractor) {\n        isCorrectOrder = false;\n      } else {\n        for (let j = 0; j < line.depends.length; j++) {\n          if (!seen.has(line.depends[j])) {\n            isCorrectOrder = false;\n          }\n        }\n      }\n      if (isCorrectOrder) {\n        this.correctLines += 1;\n      }\n      seen.add(line.tag);\n    }\n    return isCorrectOrder;\n  }\n}\n","/* =====================================================================\n==== ParsonsLine Object ================================================\n======== The model and view of a line of code.\n======== Based on what is specified in the problem.\n======== ParsonBlock objects have one or more of these.\n==== PROPERTIES ========================================================\n======== problem: the Parsons problem\n======== index: the index of the line in the problem\n======== text: the text of the code line\n======== indent: the indent level\n======== view: an element for viewing this object\n======== distractor: whether it is a distractor\n======== paired: whether it is a paired distractor\n======== groupWithNext: whether it is grouped with the following line\n======== width: the pixel width when rendered\n============ in the initial grouping\n===================================================================== */\n// Initialize from codestring\n\nexport default class ParsonsLine {\n    constructor(problem, codestring, displaymath) {\n        this.problem = problem;\n        this.index = problem.lines.length;\n        // removes trailing whitespace\n        var trimmed = codestring.replace(/\\s*$/, \"\");\n        // CodeTailor: Actions are required only if the puzzle well be served as scaffolding puzzle in CodeTailor\n        // So here we use problem.options.scaffolding to determine if the puzzle is a scaffolding puzzle\n        if (this.problem.options.scaffolding === true) {\n            function hasTopLevelClass(lines) {\n                return lines.some(({ text }) => text.trimStart().toLowerCase().startsWith(\"class \")   // now check for class  at position 0\n                );\n            }\n            if (this.problem.noindent) {\n                this.text = trimmed;\n            } else {\n                // remove any leading whitespace\n                this.text = trimmed.replace(/^\\s*/, \"\");\n            }\n            \n            if (this.problem.options.language == \"java\") {\n                this.text = this.text.replace(/\\t/g, \"    \"); \n                if (this.text.toLowerCase().startsWith(\"public class\")) {\n                    this.indent = 0;  // Set indent to 0 for class start\n                } else {\n                    this.indent = trimmed.length - this.text.length;  // Calculate normal indentation\n                }\n            } else {\n                const allLines = this.problem.lines;\n                // put indentation of import line as 0\n                if (this.text.toLowerCase().startsWith(\"import\")) {\n                    this.indent = 0;  \n                }\n\n                // Check if the line is a class definition - if so, then do not set up indentation of def line as 0    \n                if (hasTopLevelClass(allLines)) {\n                    if (this.text.toLowerCase().startsWith(\"class\")) {\n                        this.indent = 0;  // Set indent to 0 for class start\n                    } else {\n                        this.indent = trimmed.length - this.text.length;  // Calculate normal indentation\n                    }\n                } else {\n                    // Check if the line is a function definition - if so, then set up indentation of def line as 0\n                    if (this.text.toLowerCase().startsWith(\"def\")) {\n                        this.indent = 0;  // Set indent to 0 for def start\n                    } else {\n                        this.indent = trimmed.length - this.text.length;  // Calculate normal indentation\n                    }\n                }\n            }\n        } else {\n            this.text = trimmed.replace(/^\\s*/, \"\");\n            this.indent = trimmed.length - this.text.length;\n        }\n       // Create the View\n        var view;\n        // TODO: this does not work with display math... Perhaps with pretext we should have html as a language and do nothing?\n        \n        if (problem.options.language == \"natural\" || problem.options.language == \"math\") {\n            if (! displaymath) {\n                view = document.createElement(\"p\");\n            } else {\n                view = document.createElement(\"div\");\n            }\n        } else {\n            view = document.createElement(\"code\");\n            $(view).addClass(problem.options.prettifyLanguage);\n        }\n        view.id = problem.counterId + \"-line-\" + this.index;\n        view.innerHTML += this.text;\n        this.view = view;\n        problem.lines.push(this);\n    }\n    // Initialize what width the line would naturally have (without indent)\n    initializeWidth() {\n        // this.width does not appear to be used anywhere later\n        // since changing the value of this.width appears to have no effect. - Vincent Qiu (September 2020)\n        this.width =\n            $(this.view).outerWidth(true) -\n            this.problem.options.pixelsPerIndent * this.indent;\n\n        // Pass this information on to be used in class Parsons function initializeAreas\n        // to manually determine appropriate widths - Vincent Qiu (September 2020)\n        this.view.fontSize = window\n            .getComputedStyle(this.view, null)\n            .getPropertyValue(\"font-size\");\n        this.view.pixelsPerIndent = this.problem.options.pixelsPerIndent;\n        this.view.indent = this.indent;\n\n        // Figure out which typeface will be rendered by comparing text widths to browser default - Vincent Qiu (September 2020)\n        var tempCanvas = document.createElement(\"canvas\");\n        var tempCanvasCtx = tempCanvas.getContext(\"2d\");\n        var possibleFonts = window\n            .getComputedStyle(this.view, null)\n            .getPropertyValue(\"font-family\")\n            .split(\", \");\n        var fillerText = \"abcdefghijklmnopqrstuvwxyz0123456789,./!@#$%^&*-+\";\n        tempCanvasCtx.font = this.view.fontSize + \" serif\";\n        var serifWidth = tempCanvasCtx.measureText(fillerText).width;\n        for (let i = 0; i < possibleFonts.length; i++) {\n            if (possibleFonts[i].includes('\"')) {\n                possibleFonts[i] = possibleFonts[i].replaceAll('\"', \"\");\n            }\n            if (possibleFonts[i].includes(\"'\")) {\n                possibleFonts[i] = possibleFonts[i].replaceAll(\"'\", \"\");\n            }\n            tempCanvasCtx.font = this.view.fontSize + \" \" + possibleFonts[i];\n            if (tempCanvasCtx.measureText(fillerText).width !== serifWidth) {\n                this.view.fontFamily = possibleFonts[i];\n                break;\n            }\n        }\n    }\n    // Answer the block that this line is currently in\n    block() {\n        for (let i = 0; i < this.problem.blocks.length; i++) {\n            var block = this.problem.blocks[i];\n            for (var j = 0; j < block.lines.length; j++) {\n                if (block.lines[j] === this) {\n                    return block;\n                }\n            }\n        }\n        return undefined;\n    }\n    // Answer the indent based on the view\n    viewIndent() {\n        if (this.problem.noindent) {\n            return this.indent;\n        } else {\n            var block = this.block();\n            return this.indent - block.solutionIndent() + block.indent;\n        }\n    }\n}","/* =====================================================================\n==== ParsonsBlock Object ===============================================\n======== The model and view of a code block.\n==== PROPERTIES ========================================================\n======== problem: the Parsons problem\n======== lines: an array of ParsonsLine in this block\n======== indent: indent based on movement\n======== view: an element for viewing this object\n======== labels: [label, line] the labels numbering the block and the lines they go on\n======== hammer: the controller based on hammer.js\n===================================================================== */\n\nimport Hammer from \"./hammer.min.js\";\n\n// Initialize based on the problem and the lines\nexport default class ParsonsBlock {\n    constructor(problem, lines) {\n        this.problem = problem;\n        this.lines = lines;\n        this.indent = 0;\n        this.labels = [];\n        // Create view, adding view of lines and updating indent\n        var view = document.createElement(\"div\");\n        view.id = problem.counterId + \"-block-\" + problem.blockIndex;\n        problem.blockIndex += 1;\n        $(view).addClass(\"block\");\n        var sharedIndent = lines[0].indent;\n        for (let i = 1; i < lines.length; i++) {\n            sharedIndent = Math.min(sharedIndent, lines[i].indent);\n        }\n        var lineDiv = document.createElement(\"div\");\n        $(lineDiv).addClass(\"lines\");\n        $(view).append(lineDiv);\n        for (let i = 0; i < lines.length; i++) {\n            var line = lines[i];\n            var lineIndent;\n            if (problem.noindent) {\n                lineIndent = line.indent;\n            } else {\n                lineIndent = line.indent - sharedIndent;\n            }\n            $(line.view).removeClass(\"indent1 indent2 indent3 indent4 indent5 indent6\");\n            if (\n                this.problem.options.language != \"natural\" &&\n                this.problem.options.language != \"math\"\n            ) {\n                if (lineIndent > 0) {\n                    $(line.view).addClass(\"indent\" + lineIndent);\n                }\n            }\n            lineDiv.appendChild(line.view);\n        }\n        var labelDiv = document.createElement(\"div\");\n        $(labelDiv).addClass(\"labels\");\n        if (this.problem.options.numbered == \"left\") {\n            $(lineDiv).addClass(\"border_left\");\n            $(view).prepend(labelDiv);\n            $(view).css({\n                \"justify-content\": \"flex-start\",\n            });\n        } else if (this.problem.options.numbered == \"right\") {\n            $(labelDiv).addClass(\"border_left\");\n            $(labelDiv).css({\n                float: \"right\",\n            });\n            $(view).css({\n                \"justify-content\": \"space-between\",\n            });\n            $(view).append(labelDiv);\n        }\n        this.view = view;\n        // is not placeholder by default\n        this.isPlaceholder = false;\n    }\n    // Add a line (from another block) to this block\n    addLine(line) {\n        $(line.view).removeClass(\"indent1 indent2 indent3 indent4 indent5 indent6\");\n        if (this.problem.noindent) {\n            if (line.indent > 0) {\n                $(line.view).addClass(\"indent\" + line.indent);\n            }\n        } else {\n            var lines = this.lines;\n            var sharedIndent = lines[0].indent;\n            for (let i = 1; i < lines.length; i++) {\n                sharedIndent = Math.min(sharedIndent, lines[i].indent);\n            }\n            if (sharedIndent < line.indent) {\n                $(line.view).addClass(\"indent\" + (line.indent - sharedIndent));\n            } else if (sharedIndent > line.indent) {\n                for (let i = 0; i < lines.length; i++) {\n                    $(lines[i].view).removeClass(\n                        \"indent1 indent2 indent3 indent4 indent5 indent6\"\n                    );\n                    // todo: if language is natural or math then don't do this\n                    if (\n                        this.problem.options.language !== \"natural\" &&\n                        this.problem.options.language !== \"math\"\n                    ) {\n                        $(lines[i].view).addClass(\n                            \"indent\" + (lines[i].indent - line.indent)\n                        );\n                    }\n                }\n            }\n        }\n        this.lines.push(line);\n        $(this.view).children(\".lines\")[0].appendChild(line.view);\n    }\n    // Add the contents of that block to myself and then delete that block\n    consumeBlock(block) {\n        for (let i = 0; i < block.lines.length; i++) {\n            this.addLine(block.lines[i]);\n        }\n        if ($(block.view).attr(\"tabindex\") == \"0\") {\n            this.makeTabIndex();\n        }\n        $(block.view).detach();\n        var newBlocks = [];\n        for (let i = 0; i < this.problem.blocks.length; i++) {\n            if (this.problem.blocks[i] !== block) {\n                newBlocks.push(this.problem.blocks[i]);\n            }\n        }\n        for (let i = 0; i < block.labels.length; i++) {\n            this.addLabel(\n                block.labels[i][0],\n                this.lines.length - block.lines.length + block.labels[i][1]\n            );\n        }\n        this.problem.blocks = newBlocks;\n        this.problem.state = undefined;\n        this.problem.updateView();\n    }\n    // Update the model and view when block is converted to contain indent\n    addIndent() {\n        // Update the lines model / view\n        for (let i = 0; i < this.lines.length; i++) {\n            var line = this.lines[i];\n            if (line.indent > 0) {\n                $(line.view).removeClass(\"indent1 indent2 indent3 indent4 indent5 indent6\");\n                $(line.view).addClass(\"indent\" + line.indent);\n            }\n        }\n        // Update the block model / view\n        this.indent = 0;\n        $(this.view).css({\n            \"padding-left\": \"\",\n            width: this.problem.areaWidth - 22,\n        });\n    }\n    // Add a label to block and update its view\n    addLabel(label, line) {\n        var div = document.createElement(\"div\");\n        $(div).addClass(\"block-label\");\n        if (this.problem.options.numbered == \"right\") {\n            $(div).addClass(\"right-label\");\n        }\n        if (this.problem.options.numbered == \"left\") {\n            $(div).addClass(\"left-label\");\n        }\n        $(div).append(document.createTextNode(label));\n        $(this.view).children(\".labels\")[0].append(div);\n        if (this.labels.length != 0) {\n            $(div).css(\n                \"margin-top\",\n                (line - this.labels[this.labels.length - 1][1] - 1) *\n                    this.lines[line].view.offsetHeight\n            );\n        }\n        this.labels.push([label, line]);\n    }\n    // Initialize Interactivity\n    initializeInteractivity() {\n        if ($(this.view).hasClass(\"disabled\")) {\n            return this;\n        }\n        $(this.view).attr(\"tabindex\", \"-1\");\n        this.hammer = new Hammer.Manager(this.view, {\n            recognizers: [\n                [\n                    Hammer.Pan,\n                    {\n                        direction: Hammer.DIRECTION_ALL,\n                        threshold: 0,\n                        pointers: 1,\n                    },\n                ],\n            ],\n        });\n        var that = this;\n        this.hammer.on(\"panstart\", function (event) {\n            that.panStart(event);\n        });\n        this.hammer.on(\"panend\", function (event) {\n            that.panEnd(event);\n        });\n        this.hammer.on(\"panmove\", function (event) {\n            that.panMove(event);\n        });\n    }\n    // Return a boolean as to whether this block is able to be selected\n    enabled() {\n        return $(this.view).attr(\"tabindex\") !== undefined;\n    }\n    // Return a boolean as to whether this block is a distractor\n    isDistractor() {\n        return this.lines[0].distractor;\n    }\n    // Return a boolean as to whether this block is in the source area\n    inSourceArea() {\n        var children = this.problem.sourceArea.childNodes;\n        for (let i = 0; i < children.length; i++) {\n            var item = children[i];\n            if (item.id == this.view.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    // Return the page X position of the center of the view\n    pageXCenter() {\n        var boundingRect = this.view.getBoundingClientRect();\n        var pageXCenter =\n            window.pageXOffset + boundingRect.left + boundingRect.width / 2;\n        return pageXCenter;\n    }\n    // Return the page Y position of the center of the view\n    pageYCenter() {\n        var boundingRect = this.view.getBoundingClientRect();\n        var pageYCenter =\n            window.pageYOffset + boundingRect.top + boundingRect.height / 2;\n        return pageYCenter;\n    }\n    // Of all the line indents, return the minimum value\n    minimumLineIndent() {\n        var minimumLineIndent = this.lines[0].indent;\n        for (let i = 1; i < this.lines.length; i++) {\n            minimumLineIndent = Math.min(\n                this.lines[i].indent,\n                minimumLineIndent\n            );\n        }\n        return minimumLineIndent;\n    }\n    // Return the last block in the source area that matches the paired bin it is in\n    slideUnderBlock() {\n        var sourceBlocks = this.problem.sourceBlocks();\n        if (sourceBlocks.length == 0) {\n            return undefined;\n        }\n        var pairedBin = this.pairedBin();\n        if (pairedBin == -1) {\n            return sourceBlocks[sourceBlocks.length - 1];\n        }\n        for (let i = sourceBlocks.length - 1; i >= 0; i--) {\n            var block = sourceBlocks[i];\n            if (block.pairedBin() == pairedBin) {\n                return block;\n            }\n        }\n        return sourceBlocks[sourceBlocks.length - 1];\n    }\n    // Return which paired bin it is in (-1) if not\n    pairedBin() {\n        var pairedBins = this.problem.pairedBins;\n        for (var i = 0; i < pairedBins.length; i++) {\n            if (this.matchesBin(pairedBins[i])) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    // Return true if all lines are in that bin\n    matchesBin(bin) {\n        for (var i = 0; i < this.lines.length; i++) {\n            var test = this.lines[i].index;\n            if (bin.indexOf(test) == -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // Return a list of indexes where this block could be inserted before\n    validSourceIndexes() {\n        var blocks = this.problem.sourceBlocks();\n        var indexes = [];\n        var pairedBin = this.pairedBin();\n        var i, lastBin;\n        if (pairedBin >= 0) {\n            for (i = 0; i < blocks.length; i++) {\n                var block = blocks[i];\n                if (block.view.id !== this.view.id) {\n                    var blockBin = block.pairedBin();\n                    if (blockBin == pairedBin) {\n                        indexes.push(i);\n                    } else if (lastBin == pairedBin) {\n                        indexes.push(i);\n                    }\n                    lastBin = blockBin;\n                }\n            }\n            if (lastBin == pairedBin) {\n                indexes.push(blocks.length);\n            }\n            if (indexes.length > 0) {\n                return indexes;\n            }\n        }\n        for (i = 0; i < blocks.length; i++) {\n            let block = blocks[i];\n            if (block.view.id !== this.view.id) {\n                let blockBin = block.pairedBin();\n                if (blockBin !== lastBin) {\n                    indexes.push(i);\n                } else if (blockBin == -1) {\n                    indexes.push(i);\n                }\n                lastBin = blockBin;\n            }\n        }\n        indexes.push(blocks.length);\n        return indexes;\n    }\n    // A measure of how far the middle of this block is vertically positioned\n    verticalOffset() {\n        var verticalOffset;\n        if (this.inSourceArea()) {\n            verticalOffset =\n                this.problem.sourceArea.getBoundingClientRect().top;\n        } else {\n            verticalOffset =\n                this.problem.answerArea.getBoundingClientRect().top;\n        }\n        verticalOffset =\n            this.view.getBoundingClientRect().top +\n            this.view.getBoundingClientRect().bottom -\n            verticalOffset * 2;\n        return verticalOffset;\n    }\n    // This block just gained textual focus\n    newFocus() {\n        if (this.problem.textFocus == undefined) {\n            this.problem.enterKeyboardMode();\n            this.problem.textFocus = this;\n            this.problem.textMove = false;\n            $(this.view).addClass(\"down\");\n        } else if (this.problem.textFocus == this) {\n            if (this.problem.textMove) {\n                $(this.view).addClass(\"up\");\n            } else {\n                $(this.view).addClass(\"down\");\n            }\n        } else {\n            // already in keyboard mode\n            this.problem.textFocus = this;\n            this.problem.textMove = false;\n            $(this.view).addClass(\"down\");\n        }\n        this.problem.textMoving = false;\n    }\n    // This block just lost textual focus\n    releaseFocus() {\n        $(this.view).removeClass(\"down up\");\n        if (this.problem.textFocus == this) {\n            if (!this.problem.textMoving) {\n                // exit out of problem but stay way into problem\n                this.problem.textFocus = undefined;\n                if (this.problem.textMove) {\n                    this.problem.logMove(\"kmove\");\n                    this.problem.textMove = false;\n                    // CodeTailor: update placeholders\n                    this.problem.updatePlaceholders();\n                }\n                this.problem.exitKeyboardMode();\n            }\n        } else {\n            // become selectable, but not active\n            $(this.view).attr(\"tabindex\", \"-1\");\n            $(this.view).unbind(\"focus\");\n            $(this.view).unbind(\"blur\");\n            $(this.view).unbind(\"keydown\");\n        }\n    }\n    // Make this block into the keyboard entry point\n    makeTabIndex() {\n        $(this.view).attr(\"tabindex\", \"0\");\n        var that = this;\n        $(this.view).focus(function () {\n            that.newFocus();\n        });\n        $(this.view).blur(function () {\n            that.releaseFocus();\n        });\n        $(this.view).keydown(function (event) {\n            that.keyDown(event);\n        });\n    }\n    // Called to disable interaction for the future\n    disable() {\n        if (this.hammer !== undefined) {\n            this.hammer.set({ enable: false });\n        }\n        if ($(this.view).attr(\"tabindex\") == \"0\") {\n            this.releaseFocus();\n            $(this.view).removeAttr(\"tabindex\");\n            this.problem.initializeTabIndex();\n        } else {\n            $(this.view).removeAttr(\"tabindex\");\n        }\n    }\n    // Enable functionality after reset button has been pressed\n    resetView() {\n        if (this.hammer !== undefined) {\n            this.hammer.set({ enable: true });\n        }\n        if (!$(this.view)[0].hasAttribute(\"tabindex\")) {\n            $(this.view).attr(\"tabindex\", \"-1\");\n        }\n        $(this.view).css({ opacity: \"\" });\n    }\n    // Called to destroy interaction for the future\n    destroy() {\n        if (this.hammer !== undefined) {\n            this.hammer.destroy();\n            delete this.hammer;\n        }\n        if ($(this.view).attr(\"tabindex\") == \"0\") {\n            this.releaseFocus();\n        }\n        $(this.view).removeAttr(\"tabindex\");\n    }\n    // Called when a block is picked up\n    panStart(event) {\n        this.problem.clearFeedback();\n        if (this.problem.started == undefined) {\n            // log the first time that something gets moved\n            this.problem.started = true;\n            this.problem.logMove(\"start\");\n        }\n        if (this.problem.textFocus !== undefined) {\n            // stop text focus when dragging\n            this.problem.textFocus.releaseFocus();\n        }\n        this.problem.moving = this;\n        // Update the view\n        this.problem.movingX = event.srcEvent.pageX;\n        this.problem.movingY = event.srcEvent.pageY;\n        this.problem.updateView();\n    }\n    // Called when a block is dropped\n    panEnd(event) {\n        this.problem.isAnswered = true;\n        delete this.problem.moving;\n        delete this.problem.movingX;\n        delete this.problem.movingY;\n        this.problem.updateView();\n        this.problem.logMove(\"move\");\n        this.problem.updatePlaceholders();\n    }\n    // Called when a block is moved\n    panMove(event) {\n        // Update the view\n        this.problem.movingX = event.srcEvent.pageX;\n        this.problem.movingY = event.srcEvent.pageY;\n        this.problem.updateView();\n    }\n    // Handle a keypress event when in focus\n    keyDown(event) {\n        if (this.problem.started == undefined) {\n            // log the first time that something gets moved\n            this.problem.started = true;\n            this.problem.logMove(\"kstart\");\n        }\n        switch (event.keyCode) {\n            case 37: // left\n                if (this.problem.textMove) {\n                    this.moveLeft();\n                } else {\n                    this.selectLeft();\n                }\n                break;\n            case 38: // up\n                if (this.problem.textMove) {\n                    this.moveUp();\n                } else {\n                    this.selectUp();\n                }\n                event.preventDefault();\n                break;\n            case 39: // right\n                if (this.problem.textMove) {\n                    this.moveRight();\n                } else {\n                    this.selectRight();\n                }\n                event.preventDefault();\n                break;\n            case 40: // down\n                if (this.problem.textMove) {\n                    this.moveDown();\n                } else {\n                    this.selectDown();\n                }\n                event.preventDefault();\n                break;\n            case 32: // space\n                this.toggleMove();\n                event.preventDefault();\n                break;\n            case 13: // enter\n                this.toggleMove();\n                event.preventDefault();\n                break;\n        }\n    }\n    // Move block left\n    moveLeft() {\n        var index, block;\n        if (!this.inSourceArea()) {\n            if (this.indent == 0) {\n                // move to source area\n                var blocks = this.problem.sourceBlocks();\n                var offset = this.verticalOffset();\n                var validSourceIndexes = this.validSourceIndexes();\n                for (var i = 0; i < validSourceIndexes.length; i++) {\n                    index = validSourceIndexes[i];\n                    if (index == blocks.length) {\n                        this.problem.textMoving = true;\n                        this.problem.sourceArea.appendChild(this.view);\n                        $(this.view).focus();\n                        this.problem.state = undefined;\n                        this.problem.updateView();\n                        return this;\n                    } else {\n                        block = blocks[index];\n                        if (block.verticalOffset() >= offset) {\n                            break;\n                        }\n                    }\n                }\n                this.problem.textMoving = true;\n                this.problem.sourceArea.insertBefore(this.view, block.view);\n                $(this.view).focus();\n            } else {\n                // reduce indent\n                this.indent = this.indent - 1;\n            }\n            this.problem.state = undefined;\n            this.problem.updateView();\n        }\n    }\n    // Move block up\n    moveUp() {\n        if (this.inSourceArea()) {\n            let blocks = this.problem.sourceBlocks();\n            var offset = this.verticalOffset();\n            var validSourceIndexes = this.validSourceIndexes();\n            for (let i = 0; i < validSourceIndexes.length; i++) {\n                var index =\n                    validSourceIndexes[validSourceIndexes.length - 1 - i];\n                if (index < blocks.length) {\n                    var block = blocks[index];\n                    if (block.verticalOffset() < offset) {\n                        this.problem.textMoving = true;\n                        this.problem.sourceArea.insertBefore(\n                            this.view,\n                            block.view\n                        );\n                        $(this.view).focus();\n                        this.problem.state = undefined;\n                        this.problem.updateView();\n                        return this;\n                    }\n                }\n            }\n        } else {\n            let blocks = this.problem.answerBlocks();\n            for (let i = 0; i < blocks.length; i++) {\n                if (blocks[i].view.id == this.view.id) {\n                    if (i == 0) {\n                        return this;\n                    }\n                    this.problem.textMoving = true;\n                    this.problem.answerArea.insertBefore(\n                        this.view,\n                        blocks[i - 1].view\n                    );\n                    $(this.view).focus();\n                    this.problem.state = undefined;\n                    this.problem.updateView();\n                }\n            }\n        }\n    }\n    // Move block right\n    moveRight() {\n        if (this.inSourceArea()) {\n            // move to answer area\n            this.indent = 0;\n            var offset = this.verticalOffset();\n            var answerBlocks = this.problem.answerBlocks();\n            for (var i = 0; i < answerBlocks.length; i++) {\n                var item = answerBlocks[i];\n                var itemOffset = item.verticalOffset();\n                if (itemOffset >= offset) {\n                    this.problem.textMoving = true;\n                    this.problem.answerArea.insertBefore(this.view, item.view);\n                    $(this.view).focus();\n                    this.problem.state = undefined;\n                    this.problem.updateView();\n                    return this;\n                }\n            }\n            this.problem.textMoving = true;\n            this.problem.answerArea.appendChild(this.view);\n            $(this.view).focus();\n            this.problem.state = undefined;\n            this.problem.updateView();\n        } else {\n            // in answer area: increase the indent\n            if (this.indent !== this.problem.indent) {\n                this.indent = this.indent + 1;\n                this.problem.state = undefined;\n                this.problem.updateView();\n            }\n        }\n    }\n    // Move block down\n    moveDown() {\n        if (this.inSourceArea()) {\n            let blocks = this.problem.sourceBlocks();\n            var validSourceIndexes = this.validSourceIndexes();\n            for (let i = 0; i < blocks.length; i++) {\n                if (blocks[i].view.id == this.view.id) {\n                    var myIndex = i;\n                }\n            }\n            for (let i = 0; i < validSourceIndexes.length; i++) {\n                var index = validSourceIndexes[i];\n                if (index == blocks.length) {\n                    this.problem.textMoving = true;\n                    this.problem.sourceArea.appendChild(this.view);\n                    $(this.view).focus();\n                    this.problem.state = undefined;\n                    this.problem.updateView();\n                    return this;\n                } else if (index - myIndex > 1) {\n                    this.problem.textMoving = true;\n                    this.problem.sourceArea.insertBefore(\n                        this.view,\n                        blocks[index].view\n                    );\n                    $(this.view).focus();\n                    this.problem.state = undefined;\n                    this.problem.updateView();\n                    return this;\n                }\n            }\n        } else {\n            let blocks = this.problem.answerBlocks();\n            for (var i = 0; i < blocks.length; i++) {\n                if (blocks[i].view.id == this.view.id) {\n                    if (i == blocks.length - 1) {\n                        return this;\n                    } else if (i == blocks.length - 2) {\n                        this.problem.textMoving = true;\n                        this.problem.answerArea.appendChild(this.view);\n                    } else {\n                        this.problem.textMoving = true;\n                        this.problem.answerArea.insertBefore(\n                            this.view,\n                            blocks[i + 2].view\n                        );\n                    }\n                    $(this.view).focus();\n                    this.problem.state = undefined;\n                    this.problem.updateView();\n                }\n            }\n        }\n    }\n    // Move selection left\n    selectLeft() {\n        if (!this.inSourceArea()) {\n            var offset = this.verticalOffset();\n            var sourceBlocks = this.problem.enabledSourceBlocks();\n            if (sourceBlocks.length == 0) {\n                return this;\n            }\n            var chooseNext = sourceBlocks[0];\n            var chooseOffset = chooseNext.verticalOffset() - offset;\n            for (var i = 1; i < sourceBlocks.length; i++) {\n                var item = sourceBlocks[i];\n                var itemOffset = item.verticalOffset() - offset;\n                if (Math.abs(itemOffset) < Math.abs(chooseOffset)) {\n                    chooseNext = item;\n                    chooseOffset = itemOffset;\n                }\n            }\n            this.problem.textFocus = chooseNext;\n            chooseNext.makeTabIndex();\n            $(chooseNext.view).focus();\n        }\n    }\n    // Move selection up\n    selectUp() {\n        var chooseNext = false;\n        var blocks;\n        if (this.inSourceArea()) {\n            blocks = this.problem.enabledSourceBlocks();\n        } else {\n            blocks = this.problem.enabledAnswerBlocks();\n        }\n        for (var i = blocks.length - 1; i >= 0; i--) {\n            var item = blocks[i];\n            if (chooseNext) {\n                this.problem.textFocus = item;\n                item.makeTabIndex();\n                $(item.view).focus();\n                return this;\n            } else {\n                if (item.view.id == this.view.id) {\n                    chooseNext = true;\n                }\n            }\n        }\n    }\n    // Move selection right\n    selectRight() {\n        if (this.inSourceArea()) {\n            var offset = this.verticalOffset();\n            var blocks = this.problem.enabledAnswerBlocks();\n            if (blocks.length == 0) {\n                return this;\n            }\n            var chooseNext = blocks[0];\n            var chooseOffset = chooseNext.verticalOffset() - offset;\n            for (var i = 1; i < blocks.length; i++) {\n                var item = blocks[i];\n                var itemOffset = item.verticalOffset() - offset;\n                if (Math.abs(itemOffset) < Math.abs(chooseOffset)) {\n                    chooseNext = item;\n                    chooseOffset = itemOffset;\n                }\n            }\n            this.problem.textFocus = chooseNext;\n            chooseNext.makeTabIndex();\n            $(chooseNext.view).focus();\n        }\n    }\n    // Move selection down\n    selectDown() {\n        var chooseNext = false;\n        var blocks;\n        if (this.inSourceArea()) {\n            blocks = this.problem.enabledSourceBlocks();\n        } else {\n            blocks = this.problem.enabledAnswerBlocks();\n        }\n        for (var i = 0; i < blocks.length; i++) {\n            var item = blocks[i];\n            if (chooseNext) {\n                this.problem.textFocus = item;\n                item.makeTabIndex();\n                $(item.view).focus();\n                return this;\n            } else {\n                if (item.view.id == this.view.id) {\n                    chooseNext = true;\n                }\n            }\n        }\n    }\n    // Toggle whether to move this block\n    toggleMove() {\n        if (this.problem.textMove) {\n            $(this.view).removeClass(\"up\");\n            $(this.view).addClass(\"down\");\n            this.problem.textMove = false;\n            this.problem.logMove(\"kmove\");\n            if (!this.isPlaceholder) {\n\n                this.problem.updatePlaceholders();\n\n            }\n        } else {\n            $(this.view).removeClass(\"down\");\n            $(this.view).addClass(\"up\");\n            this.problem.textMove = true;\n        }\n    }\n    // Answer a string that represents this codeblock for saving\n    hash() {\n        var hash = \"\";\n        for (var i = 0; i < this.lines.length; i++) {\n            hash += this.lines[i].index + \"_\";\n        }\n        hash += this.indent;\n        return hash;\n    }\n    // Answer what the indent should be for the solution\n    solutionIndent() {\n        var sharedIndent = this.lines[0].indent;\n        for (var i = 1; i < this.lines.length; i++) {\n            sharedIndent = Math.min(sharedIndent, this.lines[i].indent);\n        }\n        return sharedIndent;\n    }\n}","import ParsonsBlock from \"./parsonsBlock\";\nimport ParsonsLine from \"./parsonsLine\";\n\nexport default class PlaceholderBlock extends ParsonsBlock {\n    constructor(problem, placeholderLines, placeholderSize, afterSettledBlockCount) {\n        // problem: Parsons instance\n        // size: how many blocks it is holding\n\n        // have to have at least one parsonslines, otherwise will be error in ParsonsBlock.\n        super(problem, placeholderLines);\n        this.placeholderLines = placeholderLines;\n        this.afterSettledBlockCount = afterSettledBlockCount;\n\n        // create a normal parsons block, but use css to control visibility of normal content\n        $(this.view).addClass(\"placeholder-block\");\n        $(this.view).addClass(\"disabled\");\n        \n        // create a new div displaying how many blocks are missing\n        this.placeholderSize = placeholderSize;\n        var content = document.createElement('div');\n        $(content).addClass(\"placeholder-text\");\n        if (placeholderSize > 1) {\n            content.innerText = `${placeholderSize} blocks are missing here`;\n        } else {\n            content.innerText = `${placeholderSize} block is missing here`;\n        }\n        $(this.view).append(content);\n\n        this.isPlaceholder = true;\n    }\n}","import ParsonsLine from \"./parsonsLine\";\n\nexport default class PlaceholderLine extends ParsonsLine {\n    constructor(problem) {\n        super(problem, \"placeholder\", false);\n        this.isPlaceholderLine = true;\n    }\n}","import ParsonsBlock from \"./parsonsBlock\";\n\nexport default class SettledBlock extends ParsonsBlock {\n    constructor(problem, lines) {\n        // problem: Parsons instance\n        // lines: lines inside the block\n        super(problem, lines);\n\n        this.isSettled = true;\n        //update its indent to follow the indentation of the lines inside\n\n        // add a css class\n        $(this.view).addClass(\"settled-block\");\n        $(this.view).addClass(\"disabled\");\n\n        let tooltipSpan = document.createElement('span');\n        tooltipSpan.classList.add(\"settled-tooltip\");\n        $(this.view).append(tooltipSpan);\n        $(this.view).find('.settled-tooltip').text('OK');\n    }\n\n    setBlocksBefore(num) {\n        this.blocksBefore = num;\n        var beforePlural = num > 1 ? 's' : '';\n        if (this.blocksAfter) {\n            var afterPlural = this.blocksAfter > 1 ? 's' : '';\n            $(this.view).find('.settled-tooltip').html(`${num} block${beforePlural} ), ${this.blocksAfter} block${afterPlural} `)\n        } else {\n            $(this.view).find('.settled-tooltip').html(`${num} block${beforePlural} `)\n        }\n    }\n\n    setBlocksAfter(num) {\n        this.blocksAfter = num;\n        var afterPlural = num > 1 ? 's' : '';\n        if (this.blocksBefore) {\n            var beforePlural = this.blocksBefore > 1 ? 's' : '';\n            $(this.view).find('.settled-tooltip').html(`${this.blocksBefore} block${beforePlural} , ${num} block${afterPlural} `)\n        } else {\n            $(this.view).find('.settled-tooltip').html(`${num} block${afterPlural} `)\n        }\n    }\n}","/* =====================================================================\n==== Parsons Runestone Directive Javascript ============================\n======== Renders a Parsons problem based on the HTML created by the\n======== parsons.py script and the RST file.\n==== CONTRIBUTORS ======================================================\n======== Isaiah Mayerchak\n======== Jeff Rick\n======== Barbara Ericson\n======== Cole Bowers\n==== Adapted form the original JS Parsons by ===========================\n======== Ville Karavirta\n======== Petri Ihantola\n======== Juha Helminen\n======== Mike Hewner\n===================================================================== */\n/* =====================================================================\n==== LineBasedGrader Object ============================================\n======== Used for grading a Parsons problem.\n==== PROPERTIES ========================================================\n======== problem: the Parsons problem\n===================================================================== */\n\"use strict\";\n\nimport RunestoneBase from \"../../common/js/runestonebase.js\";\nimport \"./parsons-i18n.en.js\";\nimport \"./parsons-i18n.pt-br.js\";\nimport \"./prettify.js\";\nimport \"../css/parsons.less\";\nimport \"../css/prettify.css\";\nimport LineBasedGrader from \"./lineGrader\";\nimport DAGGrader from \"./dagGrader\";\nimport ParsonsLine from \"./parsonsLine\";\nimport ParsonsBlock from \"./parsonsBlock\";\n// CodeTailor-related imports Updated 10/26/2025\nimport PlaceholderBlock from \"./placeholderBlock.js\";\nimport PlaceholderLine from \"./placeholderLine.js\";\nimport SettledBlock from \"./settledBlock.js\";\n\n/* =====================================================================\n==== Parsons Object ====================================================\n======== The model and view of a Parsons problem based on what is\n======== specified in the HTML, which is based on what is specified\n======== in the RST file\n==== PROPERTIES ========================================================\n======== options: options largely specified from the HTML\n======== grader: a LineGrader for grading the problem\n======== lines: an array of all ParsonsLine as specified in the problem\n======== solution: an array of ParsonsLine in the solution\n======== blocks: the current blocks\n======== sourceArea: the element that contains the source blocks\n======== answerArea: the element that contains the answer blocks\n===================================================================== */\n\n/* =====================================================================\n==== INITIALIZATION ====================================================\n=====================================================================  */\n\nexport default class Parsons extends RunestoneBase {\n    constructor(opts) {\n        super(opts);\n        var orig = opts.orig; // entire <pre> element that will be replaced by new HTML\n        this.containerDiv = orig;\n        this.origElem = $(orig).find(\"pre.parsonsblocks\")[0];\n        // Find the question text and store it in .question\n        this.question = $(orig).find(`.parsons_question`)[0];\n        this.useRunestoneServices = opts.useRunestoneServices;\n        this.divid = opts.orig.id;\n        // Set the storageId (key for storing data)\n        var storageId = super.localStorageKey();\n        this.storageId = storageId;\n        this.children = this.origElem.childNodes; // this contains all of the child elements of the entire tag...\n        this.contentArray = [];\n        Parsons.counter++; //    Unique identifier\n        this.counterId = \"parsons-\" + Parsons.counter;\n\n        // for (var i = 0; i < this.children.length; i++) {\n        //     if ($(this.children[i]).is(\"[data-question]\")) {\n        //         this.question = this.children[i];\n        //         break;\n        //     }\n        // }\n        this.initializeOptions();\n        this.grader =\n            this.options.grader === \"dag\"\n                ? new DAGGrader(this)\n                : new LineBasedGrader(this);\n        this.grader.showfeedback = this.showfeedback;\n        var fulltext = $(this.origElem).html();\n        this.blockIndex = 0;\n        this.checkCount = 0;\n        this.numDistinct = 0;\n        this.hasSolved = false;\n        this.initializeLines(fulltext.trim());\n        this.initializeView();\n        this.caption = \"Parsons\";\n        this.addCaption(\"runestone\");\n        // Check the server for an answer to complete things\n        this.checkServer(\"parsons\", true);\n        this.runnableDiv = null;\n    }\n    // Based on the data-fields in the original HTML, initialize options\n    initializeOptions() {\n        var options = {\n            pixelsPerIndent: 30,\n        };\n        // add maxdist and order if present\n        var maxdist = $(this.origElem).data(\"maxdist\");\n        var order = $(this.origElem).data(\"order\");\n        var noindent = $(this.origElem).data(\"noindent\");\n        var adaptive = $(this.origElem).data(\"adaptive\");\n        var numbered = $(this.origElem).data(\"numbered\");\n        var grader = $(this.origElem).data(\"grader\");\n        // CodeTailor: proactively set the puzzle as scaffolding puzzle to differentiate with other puzzle practice formats\n        var scaffolding = $(this.origElem).data(\"scaffolding\");\n        options[\"numbered\"] = numbered;\n        options[\"grader\"] = grader;\n        options[\"scaffolding\"] = scaffolding;\n        if (maxdist !== undefined) {\n            options[\"maxdist\"] = maxdist;\n        }\n        if (order !== undefined) {\n            // convert order string to array of numbers\n            order = order.match(/\\d+/g);\n            for (var i = 0; i < order.length; i++) {\n                order[i] = parseInt(order[i]);\n            }\n            options[\"order\"] = order;\n        }\n        if (noindent == undefined) {\n            noindent = false;\n        }\n        options[\"noindent\"] = noindent;\n        this.noindent = noindent;\n        if (adaptive == undefined) {\n            adaptive = false;\n        } else if (adaptive) {\n            this.initializeAdaptive();\n        }\n        options[\"adaptive\"] = adaptive;\n        // add locale and language\n        var locale = eBookConfig.locale;\n        if (locale == undefined) {\n            locale = \"en\";\n        }\n        options[\"locale\"] = locale;\n        var language = $(this.origElem).data(\"language\");\n        if (language == undefined) {\n            language = eBookConfig.language;\n            if (language == undefined) {\n                language = \"python\";\n            }\n        }\n        options[\"language\"] = language;\n        var prettifyLanguage = {\n            python: \"prettyprint lang-py\",\n            java: \"prettyprint lang-java\",\n            javascript: \"prettyprint lang-js\",\n            html: \"prettyprint lang-html\",\n            c: \"prettyprint lang-c\",\n            \"c++\": \"prettyprint lang-cpp\",\n            cpp: \"prettyprint lang-cpp\",\n            ruby: \"prettyprint lang-rb\",\n        }[language];\n        if (prettifyLanguage == undefined) {\n            prettifyLanguage = \"\";\n        }\n        options[\"prettifyLanguage\"] = prettifyLanguage;\n        //runnable if the parent has a parsons-runnable attr\n        options[\"runnable\"] = $(this.origElem).data(\"runnable\");\n        this.options = options;\n    }\n    // Based on what is specified in the original HTML, create the HTML view\n    initializeView() {\n        this.outerDiv = document.createElement(\"div\");\n        $(this.outerDiv).addClass(\"parsons\");\n        this.outerDiv.id = this.counterId;\n        // parsons-text exists in source, make sure it has exercise-statement class\n        let parsonsTextDiv = this.containerDiv.querySelector(\".parsons-text\");\n        if (parsonsTextDiv && !parsonsTextDiv.classList.contains(\"exercise-statement\"))\n            parsonsTextDiv.classList.add(\"exercise-statement\");\n        this.keyboardTip = document.createElement(\"div\");\n        $(this.keyboardTip).attr(\"role\", \"tooltip\");\n        this.keyboardTip.id = this.counterId + \"-tip\";\n        this.keyboardTip.innerHTML = $.i18n(\"msg_parson_arrow_navigate\");\n        this.outerDiv.appendChild(this.keyboardTip);\n        $(this.keyboardTip).hide();\n        this.sortContainerDiv = document.createElement(\"div\");\n        $(this.sortContainerDiv).addClass(\"sortable-code-container\");\n        $(this.sortContainerDiv).attr(\n            \"aria-describedby\",\n            this.counterId + \"-tip\"\n        );\n        this.outerDiv.appendChild(this.sortContainerDiv);\n        this.sourceRegionDiv = document.createElement(\"div\");\n        this.sourceRegionDiv.id = this.counterId + \"-sourceRegion\";\n        $(this.sourceRegionDiv).addClass(\"sortable-code\");\n        this.sourceLabel = document.createElement(\"div\");\n        $(this.sourceLabel).attr(\"role\", \"tooltip\");\n        this.sourceLabel.id = this.counterId + \"-sourceTip\";\n        this.sourceLabel.innerHTML = $.i18n(\"msg_parson_drag_from_here\");\n        this.sourceRegionDiv.appendChild(this.sourceLabel);\n        this.sortContainerDiv.appendChild(this.sourceRegionDiv);\n        this.sourceArea = document.createElement(\"div\");\n        this.sourceArea.id = this.counterId + \"-source\";\n        $(this.sourceArea).addClass(\"source\");\n        $(this.sourceArea).attr(\n            \"aria-describedby\",\n            this.counterId + \"-sourceTip\"\n        );\n        this.sourceRegionDiv.appendChild(this.sourceArea);\n        this.answerRegionDiv = document.createElement(\"div\");\n        this.answerRegionDiv.id = this.counterId + \"-answerRegion\";\n        $(this.answerRegionDiv).addClass(\"sortable-code\");\n        this.answerLabel = document.createElement(\"div\");\n        $(this.answerLabel).attr(\"role\", \"tooltip\");\n        this.answerLabel.id = this.counterId + \"-answerTip\";\n        this.answerLabel.innerHTML = $.i18n(\"msg_parson_drag_to_here\");\n        this.answerRegionDiv.appendChild(this.answerLabel);\n        this.sortContainerDiv.appendChild(this.answerRegionDiv);\n        this.answerArea = document.createElement(\"div\");\n        this.answerArea.id = this.counterId + \"-answer\";\n        $(this.answerArea).attr(\n            \"aria-describedby\",\n            this.counterId + \"-answerTip\"\n        );\n        this.answerRegionDiv.appendChild(this.answerArea);\n        this.parsonsControlDiv = document.createElement(\"div\");\n        $(this.parsonsControlDiv).addClass(\"parsons-controls\");\n        this.outerDiv.appendChild(this.parsonsControlDiv);\n        var that = this;\n        this.checkButton = document.createElement(\"button\");\n        $(this.checkButton).attr(\"class\", \"btn btn-success\");\n        this.checkButton.textContent = $.i18n(\"msg_parson_check_me\");\n        this.checkButton.id = this.counterId + \"-check\";\n        this.parsonsControlDiv.appendChild(this.checkButton);\n        this.checkButton.type = \"button\";\n        this.checkButton.addEventListener(\"click\", function (event) {\n            event.preventDefault();\n            that.checkCurrentAnswer();\n            that.logCurrentAnswer();\n            that.renderFeedback();\n        });\n        this.resetButton = document.createElement(\"button\");\n        $(this.resetButton).attr(\"class\", \"btn btn-default\");\n        this.resetButton.textContent = $.i18n(\"msg_parson_reset\");\n        this.resetButton.id = this.counterId + \"-reset\";\n        this.resetButton.type = \"button\";\n        this.parsonsControlDiv.appendChild(this.resetButton);\n        this.resetButton.addEventListener(\"click\", function (event) {\n            event.preventDefault();\n            that.clearFeedback();\n            $(that.checkButton).prop(\"disabled\", false);\n            that.resetView();\n            that.checkCount = 0;\n            that.logMove(\"reset\");\n            that.setLocalStorage();\n        });\n        if (this.options.adaptive) {\n            this.helpButton = document.createElement(\"button\");\n            $(this.helpButton).attr(\"class\", \"btn btn-primary\");\n            this.helpButton.textContent = $.i18n(\"msg_parson_help\");\n            this.helpButton.id = this.counterId + \"-help\";\n            this.helpButton.disabled = false; // bje\n            this.parsonsControlDiv.appendChild(this.helpButton);\n            this.helpButton.addEventListener(\"click\", function (event) {\n                event.preventDefault();\n                that.helpMe();\n            });\n        }\n        this.messageDiv = document.createElement(\"div\");\n        this.messageDiv.id = this.counterId + \"-message\";\n        this.messageDiv.setAttribute(\"aria-live\", \"polite\");\n        this.messageDiv.setAttribute(\"role\", \"status\");\n        this.parsonsControlDiv.appendChild(this.messageDiv);\n        this.messageDiv.style.visibility = \"hidden\";\n        $(this.origElem).replaceWith(this.outerDiv);\n        $(this.outerDiv).closest(\".sqcontainer\").css(\"max-width\", \"none\");\n        if (this.outerDiv) {\n            if ($(this.question).html().match(/^\\s+$/)) {\n                $(this.question).remove();\n            } else {\n                $(this.outerDiv).prepend(this.question);\n            }\n        }\n    }\n    // Initialize lines and solution properties\n    // CodeTailor: a big change is in this function - included #settled blocks and placeholder blocks\n    initializeLines(text) {\n        this.lines = [];\n        // Create the initial blocks\n        var textBlocks = text.split(\"---\");\n        if (textBlocks.length === 1) {\n            // If there are no ---, then every line is its own block\n            textBlocks = text.split(\"\\n\");\n        }\n        var solution = [];\n        var indents = [];\n        // CodeTailor: Parsons puzzle wise, the biggest change is in this section\n        if (this.options.scaffolding === true) {\n            var placeholderNeeded = false;\n            // if there is a placeholder needed to be created at the end\n            for (var i = 0; i < textBlocks.length; i++) {\n                var textBlock = textBlocks[i];\n                // Figure out options based on the #option\n                // Remove the options from the code\n                // only options are #paired or #distractor\n                var options = {};\n                var distractIndex;\n                var distractHelptext = \"\";\n                var tagIndex;\n                var tag;\n                var dependsIndex;\n                var depends = [];\n                if (textBlock.includes(\"#paired:\")) {\n                    distractIndex = textBlock.indexOf(\"#paired:\");\n                    distractHelptext = textBlock\n                        .substring(distractIndex + 8, textBlock.length)\n                        .trim();\n                    textBlock = textBlock.substring(0, distractIndex + 7);\n                } else if (textBlock.includes(\"#distractor:\")) {\n                    distractIndex = textBlock.indexOf(\"#distractor:\");\n                    distractHelptext = textBlock\n                        .substring(distractIndex + 12, textBlock.length)\n                        .trim();\n                    textBlock = textBlock.substring(0, distractIndex + 11);\n                } else if (textBlock.includes(\"#settled\")) {\n                    var settledIndex = textBlock.indexOf(\"#settled\");\n                    distractHelptext = textBlock\n                        .substring(settledIndex + 8, textBlock.length)\n                        .trim();\n                    textBlock = textBlock.substring(0, settledIndex + 8);\n                } else if (textBlock.includes(\"#tag:\")) {\n                    textBlock = textBlock.replace(/#tag:.*;.*;/, (s) =>\n                        s.replace(/\\s+/g, \"\")\n                    ); // remove whitespace in tag and depends list\n                    tagIndex = textBlock.indexOf(\"#tag:\");\n                    tag = textBlock.substring(\n                        tagIndex + 5,\n                        textBlock.indexOf(\";\", tagIndex + 5)\n                    );\n                    if (tag == \"\") tag = \"block-\" + i;\n                    dependsIndex = textBlock.indexOf(\";depends:\");\n                    let dependsString = textBlock.substring(\n                        dependsIndex + 9,\n                        textBlock.indexOf(\";\", dependsIndex + 9)\n                    );\n                    depends =\n                        dependsString.length > 0 ? dependsString.split(\",\") : [];\n                }\n                if (textBlock.includes('class=\"displaymath')) {\n                    options[\"displaymath\"] = true;\n                } else {\n                    options[\"displaymath\"] = false;\n                }\n\n                textBlock = textBlock.replace(\n                    /#(paired|distractor|settled|tag:.*;.*;)/,\n                    function (mystring, arg1) {\n                        options[arg1] = true;\n                        return \"\";\n                    }\n                );\n\n                // if block is #settled - create a placeholder line (PH) before the lines,\n                //          if it is not the first block, and the previous block is not settled\n                // If lines are: settled, line 1, line 2, line 3, settled, line 4:\n                // Create settled, line 1, line 2, line 3, PH1, settled, line 4, PH2\n                // If lines are: line 1, settled, settled, line 2, line 3, line 4, settled:\n                // Create line 1, PH1, settled, settled, line 2, line 3, line 4, PH2, settled\n                if (options[\"settled\"] && i > 0 && lines.length > 0 && !lines[lines.length - 1].isSettled) {\n                    var placeholderLine = new PlaceholderLine(this);\n                    lines.push(placeholderLine);\n                    placeholderLine.distractor = true;\n                    placeholderLine.paired = false;\n                    placeholderLine.distractHelptext = \"\";\n                    placeholderLine.groupWithNext = false;\n                    placeholderLine.indent = 0;\n                }\n    \n                if (options[\"settled\"]) {\n                    placeholderNeeded = true;\n                }\n    \n                // Create lines\n                var lines = [];\n                if (!options[\"displaymath\"]) {\n                    var split = textBlock.split(\"\\n\");\n                } else {\n                    var split = [textBlock];\n                }\n                for (var j = 0; j < split.length; j++) {\n                    var code = split[j];\n                    // discard blank rows\n                    if (!/^\\s*$/.test(code)) {\n                        var line = new ParsonsLine(\n                            this,\n                            code,\n                            options[\"displaymath\"]\n                        );\n                        lines.push(line);\n                        if (options[\"paired\"]) {\n                            line.distractor = true;\n                            line.paired = true;\n                            line.distractHelptext = distractHelptext;\n                        } else if (options[\"distractor\"]) {\n                            line.distractor = true;\n                            line.paired = false;\n                            line.distractHelptext = distractHelptext;\n                        } else if (options[\"settled\"]) {\n                            // settled lines: fixed solution lines\n                            line.distractor = false;\n                            line.paired = false;\n                            line.isSettled = true;\n                            solution.push(line);\n                        } else {\n                            line.distractor = false;\n                            line.paired = false;\n                            if (this.options.grader === \"dag\") {\n                                line.tag = tag;\n                                line.depends = depends;\n                            } \n                            solution.push(line);\n                        }\n                        if ($.inArray(line.indent, indents) == -1) {\n                            indents.push(line.indent);\n                        }\n                    }\n                }\n                if (lines.length > 0) {\n                    // Add groupWithNext\n                    for (j = 0; j < lines.length - 1; j++) {\n                        lines[j].groupWithNext = true;\n                    }\n                    lines[lines.length - 1].groupWithNext = false;\n                }\n            }\n            if (placeholderNeeded && !lines[lines.length - 1].isSettled) {\n                // if there is a settled line before the ending lines\n                var placeholderLine = new PlaceholderLine(this);\n                lines.push(placeholderLine);\n                placeholderLine.distractor = true;\n                placeholderLine.paired = false;\n                placeholderLine.distractHelptext = \"\";\n                placeholderLine.groupWithNext = false;\n            }\n            // CodeTailor: Normalize the indents for java - sometimes java indent directly uses 8 spaces for method indent\n            if (this.options.language === \"java\") {\n                let classLineIndent = null;\n                let methodLineIndent = null;\n    \n                for (let i = 0; i < this.lines.length; i++) {\n                    const lineText = this.lines[i].text;\n\n                    if (classLineIndent === null && (lineText.includes(\"public class\") || lineText.startsWith(\"import\"))) {\n                        classLineIndent = this.lines[i].indent;\n                    }\n                    \n                    if (methodLineIndent === null && lineText.includes(\"public static\")) {\n                        methodLineIndent = this.lines[i].indent;\n                    }\n                    \n                    // Break early once both are found\n                    if (classLineIndent !== null && methodLineIndent !== null) {\n                        break;\n                    }\n                }\n    \n                // Detected Java 8-space indent  will shift levels down by one.\n                if (classLineIndent === 0 && methodLineIndent === 8) {\n                    indents = indents.sort(function (a, b) {\n                        return a - b;\n                    });\n    \n                    for (let i = 0; i < this.lines.length; i++) {\n                        let line = this.lines[i];\n                        let originalIndent = line.indent;\n                        let normalizedLevel = indents.indexOf(originalIndent);\n                        if (normalizedLevel > 0) {\n                            normalizedLevel -= 1;\n                        }\n                        line.indent = normalizedLevel;\n                    } \n                } else {\n                    indents = indents.sort(function (a, b) {\n                        return a - b;\n                    });\n                    for (let i = 0; i < this.lines.length; i++) {\n                        let line = this.lines[i];\n                        line.indent = indents.indexOf(line.indent);\n                    }\n                }\n            } else {\n                // Python - Original behavior\n                indents = indents.sort(function (a, b) {\n                    return a - b;\n                });\n                for (let i = 0; i < this.lines.length; i++) {\n                    let line = this.lines[i];\n                    line.indent = indents.indexOf(line.indent);\n                }\n            }\n            this.solution = solution;\n        \n        } else {\n            // Normal Parsons puzzle initialization\n            for (var i = 0; i < textBlocks.length; i++) {\n                var textBlock = textBlocks[i];\n                // Figure out options based on the #option\n                // Remove the options from the code\n                // only options are #paired or #distractor\n                var options = {};\n                var distractIndex;\n                var distractHelptext = \"\";\n                var tagIndex;\n                var tag;\n                var dependsIndex;\n                var depends = [];\n                if (textBlock.includes(\"#paired:\")) {\n                    distractIndex = textBlock.indexOf(\"#paired:\");\n                    distractHelptext = textBlock\n                        .substring(distractIndex + 8, textBlock.length)\n                        .trim();\n                    textBlock = textBlock.substring(0, distractIndex + 7);\n                } else if (textBlock.includes(\"#distractor:\")) {\n                    distractIndex = textBlock.indexOf(\"#distractor:\");\n                    distractHelptext = textBlock\n                        .substring(distractIndex + 12, textBlock.length)\n                        .trim();\n                    textBlock = textBlock.substring(0, distractIndex + 11);\n                } else if (textBlock.includes(\"#tag:\")) {\n                    textBlock = textBlock.replace(/#tag:.*;.*;/, (s) =>\n                        s.replace(/\\s+/g, \"\")\n                    ); // remove whitespace in tag and depends list\n                    tagIndex = textBlock.indexOf(\"#tag:\");\n                    tag = textBlock.substring(\n                        tagIndex + 5,\n                        textBlock.indexOf(\";\", tagIndex + 5)\n                    );\n                    if (tag == \"\") tag = \"block-\" + i;\n                    dependsIndex = textBlock.indexOf(\";depends:\");\n                    let dependsString = textBlock.substring(\n                        dependsIndex + 9,\n                        textBlock.indexOf(\";\", dependsIndex + 9)\n                    );\n                    depends =\n                        dependsString.length > 0 ? dependsString.split(\",\") : [];\n                }\n                if (textBlock.includes('class=\"displaymath')) {\n                    options[\"displaymath\"] = true;\n                } else {\n                    options[\"displaymath\"] = false;\n                }\n                textBlock = textBlock.replace(\n                    /\\s*#(paired|distractor|tag:.*;.*;)\\s*/g,\n                    function (mystring, arg1) {\n                        options[arg1] = true;\n                        return \"\";\n                    }\n                );\n                // Create lines\n                var lines = [];\n                if (!options[\"displaymath\"]) {\n                    var split = textBlock.split(\"\\n\");\n                } else {\n                    var split = [textBlock];\n                }\n\n                for (var j = 0; j < split.length; j++) {\n                    var code = split[j];\n                    let isBlank = /^\\s*$/.test(code);\n                    // discard up to one blank leading or trailing line\n                    if (isBlank && (j == 0 || j == split.length - 1)) {\n                        continue;\n                    }\n                    var line = new ParsonsLine(\n                        this,\n                        code,\n                        options[\"displaymath\"]\n                    );\n                    lines.push(line);\n                    if (options[\"paired\"]) {\n                        line.distractor = true;\n                        line.paired = true;\n                        line.distractHelptext = distractHelptext;\n                    } else if (options[\"distractor\"]) {\n                        line.distractor = true;\n                        line.paired = false;\n                        line.distractHelptext = distractHelptext;\n                    } else {\n                        line.distractor = false;\n                        line.paired = false;\n                        if (this.options.grader === \"dag\") {\n                            line.tag = tag;\n                            line.depends = depends;\n                        }\n                        solution.push(line);\n                    }\n                    if ($.inArray(line.indent, indents) == -1) {\n                        indents.push(line.indent);\n                    }\n                }\n                if (lines.length > 0) {\n                    // Add groupWithNext\n                    for (j = 0; j < lines.length - 1; j++) {\n                        lines[j].groupWithNext = true;\n                    }\n                    lines[lines.length - 1].groupWithNext = false;\n                }\n            }\n            // Normalize the indents\n            indents = indents.sort(function (a, b) {\n                return a - b;\n            });\n            for (i = 0; i < this.lines.length; i++) {\n                line = this.lines[i];\n                line.indent = indents.indexOf(line.indent);\n            }\n            this.solution = solution;\n        }\n    }\n    // Based on the blocks, create the source and answer areas\n    async initializeAreas(sourceBlocks, answerBlocks, options) {\n        // Create blocks property as the sum of the two\n        var blocks = [];\n        var i, block;\n        for (i = 0; i < sourceBlocks.length; i++) {\n            block = sourceBlocks[i];\n            blocks.push(block);\n            this.sourceArea.appendChild(block.view);\n        }\n        for (i = 0; i < answerBlocks.length; i++) {\n            block = answerBlocks[i];\n            blocks.push(block);\n            this.answerArea.appendChild(block.view);\n        }\n        this.blocks = blocks;\n        // If present, disable some blocks\n        var disabled = options.disabled;\n        if (disabled !== undefined) {\n            for (i = 0; i < blocks.length; i++) {\n                block = blocks[i];\n                if (disabled.includes(block.lines[0].index)) {\n                    $(block.view).addClass(\"disabled\");\n                }\n            }\n        }\n        // Determine how much indent should be possible in the answer area\n        var indent = 0;\n        if (!this.noindent) {\n            if (this.options.language == \"natural\") {\n                indent = this.solutionIndent();\n            } else {\n                indent = Math.max(0, this.solutionIndent());\n            }\n        }\n        this.indent = indent;\n        // For rendering, place in an onscreen position\n        var isHidden = this.outerDiv.offsetParent == null;\n        var replaceElement;\n        if (isHidden) {\n            replaceElement = document.createElement(\"div\");\n            replaceElement.classList.add(\"runestone-sphinx\");\n            $(this.outerDiv).replaceWith(replaceElement);\n            // add runestone-sphinx class so the css rules for parsons will apply\n            $(this.outerDiv).addClass(\"runestone-sphinx\");\n            document.body.appendChild(this.outerDiv);\n        }\n\n        // only do prettify if prism is not loaded\n        if (this.options.prettifyLanguage !== \"\" && typeof Prism === \"undefined\") {\n            prettyPrint();\n        }\n\n        const lang = this.options[\"language\"];\n        if (lang && typeof Prism !== \"undefined\") {\n            const codeEls = this.containerDiv.querySelectorAll(\"code\");\n            for (const el of codeEls) {\n                el.classList.add(`language-${lang}`);\n            }\n            Prism.highlightAllUnder(this.containerDiv);\n        }\n\n        for (let i = 0; i < this.lines.length; i++) {\n            this.lines[i].initializeWidth();\n        }\n\n        // Set the source width to its max value.  This allows the blocks to be created\n        // at their \"natural\" size. As long as that is smaller than the max.\n        // This allows us to use sensible functions to determine the correct heights\n        // and widths for the drag and drop areas.\n        // Like most of the sizing, this is a bit of a hack.\n        const availableWidth = this.outerDiv.offsetWidth;\n        const answerIndentSpace = this.options.pixelsPerIndent * this.indent;\n        const marginFudge = 80;  // margins, padding, etc...\n        let maxSourceAreaWidth = (availableWidth - answerIndentSpace - marginFudge) / 2;\n        if (this.options.numbered != undefined) {\n            maxSourceAreaWidth -= 25;\n        }\n        this.sourceArea.style.width = maxSourceAreaWidth + \"px\"; // likely reduced later\n\n        // Layout the areas\n        var areaWidth, areaHeight;\n        // Establish the width and height of the droppable areas\n        var item, maxFunction;\n        areaHeight = 20;\n        var height_add = 0;\n        if (this.options.numbered != undefined) {\n            height_add = 1;\n        }\n        // Warning -- all of this is just a bit of pixie dust discovered by trial\n        // and error to try to get the height of the drag and drop boxes.\n        // item is a jQuery object\n        // outerHeight can be unreliable if elements are not yet visible\n        // outerHeight will return bad results if MathJax has not rendered the math\n        areaWidth = 0;\n        let self = this;\n        maxFunction = async function (item) {\n            if (\n                this.options.language == \"natural\" ||\n                this.options.language == \"math\"\n            ) {\n                if (typeof runestoneMathReady !== \"undefined\") {\n                    await runestoneMathReady.then(\n                        async () => await self.queueMathJax(item[0])\n                    );\n                } else {\n                    // this is for older rst builds not ptx\n                    if (typeof MathJax.startup !== \"undefined\") {\n                        await self.queueMathJax(item[0]);\n                    }\n                }\n            }\n            areaWidth = Math.max(areaWidth, item.outerWidth(true));\n            item.width(areaWidth - 22);\n            var addition = 3.8;\n            let outerH = item.outerHeight(true);\n            if (outerH != 38) {\n                addition = (3.1 * (outerH - 38)) / 21;\n            }\n            areaHeight += outerH + height_add * addition;\n        }.bind(this);\n        for (i = 0; i < blocks.length; i++) {\n            await maxFunction($(blocks[i].view));\n        }\n        // sometimes we have a problem with hidden elements not getting the right height\n        // just make sure that we have a reasonable height. There must be a better way to\n        // do this.\n        if (this.isTimed && areaHeight < blocks.length * 38) {\n            areaHeight = blocks.length * 50;\n        }\n        this.areaWidth = areaWidth;\n        if (this.options.numbered != undefined) {\n            this.areaWidth += 25;\n            //areaHeight += (blocks.length);\n        }\n        // + 40 to areaHeight to provide some additional buffer in case any text overflow still happens - Vincent Qiu (September 2020)\n        if (indent > 0 && indent <= 4) {\n            $(this.answerArea).addClass(\"answer\" + indent);\n        } else {\n            $(this.answerArea).addClass(\"answer\");\n        }\n        // Initialize paired distractor decoration\n        var bins = [];\n        var bin = [];\n        for (i = 0; i < this.lines.length; i++) {\n            var line = this.lines[i];\n            if (line.block() == undefined) {\n                if (bin.length > 0) {\n                    bins.push(bin);\n                    bin = [];\n                }\n            } else {\n                bin.push(line);\n                if (!line.groupWithNext) {\n                    bins.push(bin);\n                    bin = [];\n                }\n            }\n        }\n        var pairedBins = [];\n        var lineNumbers = [];\n        var pairedDivs = [];\n        var j;\n        if (this.pairDistractors || !this.options.adaptive) {\n            for (i = bins.length - 1; i > -1; i--) {\n                bin = bins[i];\n                if (bin[0].paired) {\n                    // Add all in bin to line numbers\n                    for (j = bin.length - 1; j > -1; j--) {\n                        lineNumbers.unshift(bin[j].index);\n                    }\n                } else {\n                    if (lineNumbers.length > 0) {\n                        // Add all in bin to line numbers\n                        for (j = bin.length - 1; j > -1; j--) {\n                            lineNumbers.unshift(bin[j].index);\n                        }\n                        pairedBins.unshift(lineNumbers);\n                        lineNumbers = [];\n                    }\n                }\n            }\n            for (i = 0; i < pairedBins.length; i++) {\n                var pairedDiv = document.createElement(\"div\");\n                $(pairedDiv).addClass(\"paired\");\n                $(pairedDiv).html(\n                    \"<span id= 'st' style = 'vertical-align: middle; font-weight: bold'>or{</span>\"\n                );\n                pairedDivs.push(pairedDiv);\n                this.sourceArea.appendChild(pairedDiv);\n            }\n        } else {\n            pairedBins = [];\n        }\n        areaHeight += pairedBins.length * 10; // the paired bins take up extra space which can\n        // cause the blocks to spill out.  This\n        // corrects that by adding a little extra\n        this.areaHeight = areaHeight + 40;\n        $(this.sourceArea).css({\n            width: this.areaWidth + 2,\n            height: areaHeight,\n        });\n        $(this.answerArea).css({\n            width: this.options.pixelsPerIndent * indent + this.areaWidth + 2,\n            height: areaHeight,\n        });\n\n        this.pairedBins = pairedBins;\n        this.pairedDivs = pairedDivs;\n        if (this.options.numbered != undefined) {\n            this.addBlockLabels(sourceBlocks.concat(answerBlocks));\n        }\n        // Update the view\n        this.state = undefined; // needs to be here for loading from storage\n        this.updateView();\n        // Put back into the offscreen position\n        if (isHidden) {\n            $(replaceElement).replaceWith(this.outerDiv);\n        }\n    }\n    // Make blocks interactive (both drag-and-drop and keyboard)\n    initializeInteractivity() {\n        for (var i = 0; i < this.blocks.length; i++) {\n            this.blocks[i].initializeInteractivity();\n        }\n        this.initializeTabIndex();\n        let self = this;\n        if (\n            this.options.language == \"natural\" ||\n            this.options.language == \"math\"\n        ) {\n            if (typeof MathJax.startup !== \"undefined\") {\n                self.queueMathJax(self.outerDiv);\n            }\n        }\n    }\n    // Make one block be keyboard accessible\n    initializeTabIndex() {\n        for (var i = 0; i < this.blocks.length; i++) {\n            var block = this.blocks[i];\n            if (block.enabled()) {\n                block.makeTabIndex();\n                return this;\n            }\n        }\n    }\n    /* =====================================================================\n    ==== SERVER COMMUNICATION ==============================================\n    ===================================================================== */\n    // Return the argument that is newer based on the timestamp\n    newerData(dataA, dataB) {\n        var dateA = dataA.timestamp;\n        var dateB = dataB.timestamp;\n        if (dateA == undefined) {\n            return dataB;\n        }\n        if (dateB == undefined) {\n            return dataA;\n        }\n        dateA = this.dateFromTimestamp(dateA);\n        dateB = this.dateFromTimestamp(dateB);\n        if (dateA > dateB) {\n            return dataA;\n        } else {\n            return dataB;\n        }\n    }\n    // Based on the data, load\n    async loadData(data) {\n\n        if (this.options.scaffolding === true) {\n            var sourceHash = data.source;\n            if (sourceHash == undefined) {\n                // maintain backwards compatibility\n                sourceHash = data.trash;\n            }\n            var answerHash = data.answer;\n            var adaptiveHash = data.adaptive;\n            var options;\n            if (adaptiveHash == undefined) {\n                options = {};\n            } else {\n                options = this.optionsFromHash(adaptiveHash);\n            }\n            if (options.noindent !== undefined) {\n                this.noindent = true;\n            }\n            if (options.checkCount !== undefined) {\n                this.checkCount = options.checkCount;\n            }\n            if (options.hasSolved !== undefined) {\n                this.hasSolved = options.hasSolved;\n            }\n            await this.initializeAreas(this.blocksFromSource(), this.settledBlocksFromSource(), options);\n            if (this.needsReinitialization !== true) {\n                this.initializeInteractivity();\n                if (this.isTimed && !this.assessmentTaken) {\n                    this.resetView();\n                }\n            }\n        } else {\n            var sourceHash = data.source;\n            if (sourceHash == undefined) {\n                // maintain backwards compatibility\n                sourceHash = data.trash;\n            }\n            var answerHash = data.answer;\n            var adaptiveHash = data.adaptive;\n            var options;\n            if (adaptiveHash == undefined) {\n                options = {};\n            } else {\n                options = this.optionsFromHash(adaptiveHash);\n            }\n            if (options.noindent !== undefined) {\n                this.noindent = true;\n            }\n            if (options.checkCount !== undefined) {\n                this.checkCount = options.checkCount;\n            }\n            if (options.hasSolved !== undefined) {\n                this.hasSolved = options.hasSolved;\n            }\n            if (\n                sourceHash == undefined ||\n                answerHash == undefined ||\n                answerHash.length == 1\n            ) {\n                await this.initializeAreas(this.blocksFromSource(), [], options);\n            } else {\n                this.initializeAreas(\n                    this.blocksFromHash(sourceHash),\n                    this.blocksFromHash(answerHash),\n                    options\n                );\n                this.grade = this.grader.grade();\n                if (this.grade == \"correct\") {\n                    this.correct = true;\n                } else if (this.answerLines().length == 0) {\n                    this.correct = null;\n                } else {\n                    this.correct = false;\n                }\n            }\n            // Start the interface\n            if (this.needsReinitialization !== true) {\n                this.initializeInteractivity();\n                // This is a bit of a hack to get the blocks to be in the right place\n                // when the page loads.  It is needed because the blocks are not\n                // visible when the page loads, so the size is off.  This forces\n                // a realignment.\n                if (this.isTimed && !this.assessmentTaken) {\n                    this.resetView();\n                }\n            }\n        }\n    }\n    // Return what is stored in local storage\n    localData() {\n        var data = localStorage.getItem(this.storageId);\n        if (data !== null) {\n            if (data.charAt(0) == \"{\") {\n                data = JSON.parse(data);\n            } else {\n                data = {};\n            }\n        } else {\n            data = {};\n        }\n        return data;\n    }\n    // RunestoneBase: Sent when the server has data\n    restoreAnswers(serverData) {\n        this.loadData(serverData);\n    }\n    // RunestoneBase: Load what is in local storage\n    checkLocalStorage() {\n        if (this.graderactive) {\n            return;\n        }\n        this.loadData(this.localData());\n    }\n    // RunestoneBase: Set the state of the problem in local storage\n    setLocalStorage(data) {\n        var toStore;\n        if (data == undefined) {\n            toStore = {\n                source: this.sourceHash(),\n                answer: this.answerHash(),\n                timestamp: new Date(),\n            };\n            var adaptiveHash = this.adaptiveHash();\n            if (adaptiveHash.length > 0) {\n                toStore.adaptive = adaptiveHash;\n            }\n        } else {\n            toStore = data;\n        }\n        localStorage.setItem(this.storageId, JSON.stringify(toStore));\n    }\n\n    async updatePlaceholders() {\n        setTimeout(() => {\n            var answerBlocks = this.answerBlocks();\n            var i, hasNormalBlock;\n            var placeholder;\n            // hide placeholder\n            for (i = 0; i < answerBlocks.length; ++i) {\n                // checking on placeholders\n                if (answerBlocks[i].isPlaceholder) {\n                    placeholder = answerBlocks[i];\n                    hasNormalBlock = false;\n                    if (i > 0 && !answerBlocks[i - 1].isSettled && !answerBlocks[i - 1].isPlaceholder) {\n                        hasNormalBlock = true;\n                    }\n                    if (i < answerBlocks.length - 1 && !answerBlocks[i + 1].isSettled && !answerBlocks[i + 1].isPlaceholder) {\n                        hasNormalBlock = true;\n                    }\n                \n                    if (hasNormalBlock) {\n                        // if a placeholder has a normal block before or after, hide it;\n                        if (!$(placeholder.view).hasClass('hide')) {\n                            $(placeholder.view).addClass(\"hide\");\n                            for (var j = 0; j < answerBlocks.length - 1 - i; j++) {\n                                placeholder.moveDown();\n                            }\n                        }\n                    }\n     \n                }\n            }\n        }, 5);\n\n        setTimeout(() => {\n            var answerBlocks = this.answerBlocks();\n            var contentLength = 0;\n            while (contentLength < answerBlocks.length && !$(answerBlocks[contentLength].view).hasClass('hide')) {\n                contentLength++;\n            }\n            // show placeholder when needed\n            var prevIsSettled = true;\n            if (this.firstBlockSettled) {\n                prevIsSettled = false;\n            }\n            var settledCount = 0;\n            var i;\n            for (i = 0; i < contentLength; ++i) {\n                // locate two consecutive settled blocks\n                if (answerBlocks[i].isSettled && prevIsSettled) {\n                    break;\n                }\n                if (answerBlocks[i].isSettled) {\n                    prevIsSettled = true;\n                    settledCount++;\n                } else {\n                    prevIsSettled = false;\n                }\n            }\n            var placeholder;\n            if (\n                (i < contentLength) || \n                (answerBlocks[contentLength - 1] && answerBlocks[contentLength - 1].isSettled && !this.lastBlockSettled)\n            ) {\n                // looking for the placeholder block that should be after \"settledCount\" number of settled blocks;\n                var placeholderIndex;\n                for (placeholderIndex = answerBlocks.length - 1; placeholderIndex >= contentLength; placeholderIndex--) {\n                    if (answerBlocks[placeholderIndex].afterSettledBlockCount == settledCount) {\n                        placeholder = answerBlocks[placeholderIndex];\n                        break;\n                    }\n                }\n                if (answerBlocks[placeholderIndex].afterSettledBlockCount != settledCount) {\n                    console.log(\"error moving up; no placeholder found\");\n                    return;\n                }\n                if ($(placeholder.view).hasClass('hide')) {\n                    $(placeholder.view).removeClass(\"hide\");\n                    // should be moved right before the block answerBlocks[i]\n                    for (var j = 0; j < placeholderIndex - i; j++) {\n                        placeholder.moveUp();\n                    }\n                }\n            }\n        }, 10);\n    }\n\n\n    /* =====================================================================\n    ==== LOGGING ===========================================================\n    ===================================================================== */\n    // Log the interaction with the problem to the server:\n    //   start: the user started interacting with this problem\n    //   move: the user moved a block to a new position\n    //   reset: the reset button was pressed\n    //   removeDistractor: \"Help Me\" removed a distractor\n    //   removeIndentation: \"Help Me\" removed indentation\n    //   combineBlocks: \"Help Me\" combined blocks\n    logMove(activity) {\n        var event = {\n            event: \"parsonsMove\",\n            div_id: this.divid,\n            storageid: super.localStorageKey(),\n        };\n        var act = activity + \"|\" + this.sourceHash() + \"|\" + this.answerHash();\n        var adaptiveHash = this.adaptiveHash();\n        if (adaptiveHash !== \"\") {\n            act = act + \"|\" + adaptiveHash;\n        }\n        event.act = act;\n        this.logBookEvent(event);\n    }\n    // Log the answer to the problem\n    //   correct: The answer given matches the solution\n    //   incorrect*: The answer is wrong for various reasons\n    async logCurrentAnswer(sid) {\n        var event = {\n            event: \"parsons\",\n            div_id: this.divid,\n        };\n        var answerHash = this.answerHash();\n        event.answer = answerHash;\n        var sourceHash = this.sourceHash();\n        event.source = sourceHash;\n        var act = sourceHash + \"|\" + answerHash;\n        var adaptiveHash = this.adaptiveHash();\n        if (adaptiveHash !== \"\") {\n            event.adaptive = adaptiveHash;\n            act = act + \"|\" + adaptiveHash;\n        }\n        if (this.grade == \"correct\") {\n            act = \"correct|\" + act;\n            event.correct = \"T\";\n        } else {\n            act = \"incorrect|\" + act;\n            event.correct = \"F\";\n        }\n        event.act = act;\n\n        if (typeof sid !== \"undefined\") {\n            event.sid = sid;\n        }\n\n        await this.logBookEvent(event);\n    }\n    /* =====================================================================\n    ==== ACCESSING =========================================================\n    ===================================================================== */\n    // Answer the hash of the adaptive state\n    adaptiveHash() {\n        if (!this.options.adaptive) {\n            return \"\";\n        }\n        var hash = [];\n        for (var i = 0; i < this.blocks.length; i++) {\n            var block = this.blocks[i];\n            if (!block.enabled()) {\n                hash.push(\"d\" + block.lines[0].index);\n            }\n        }\n        if (this.noindent !== this.options.noindent) {\n            hash.push(\"i\");\n        }\n        hash.push(\"c\" + this.checkCount);\n        if (this.hasSolved) {\n            hash.push(\"s\");\n        }\n        return hash.join(\"-\");\n    }\n    // Create options for creating blocks based on a hash\n    optionsFromHash(hash) {\n        var split;\n        if (hash === \"-\" || hash === \"\" || hash === null) {\n            split = [];\n        } else {\n            split = hash.split(\"-\");\n        }\n        var options = {};\n        var disabled = [];\n        for (var i = 0; i < split.length; i++) {\n            var key = split[i];\n            if (key[0] == \"i\") {\n                options.noindent = true;\n            } else if (key[0] == \"d\") {\n                disabled.push(parseInt(key.slice(1)));\n            } else if (key[0] == \"s\") {\n                options.hasSolved = true;\n            } else if (key[0] == \"c\") {\n                options.checkCount = parseInt(key.slice(1));\n            }\n        }\n        if (disabled.length > 0) {\n            options.disabled = disabled;\n        }\n        return options;\n    }\n    // Answer the hash of the answer area\n    answerHash() {\n        var hash = [];\n        var blocks = this.answerBlocks();\n        for (var i = 0; i < blocks.length; i++) {\n            hash.push(blocks[i].hash());\n        }\n        if (hash.length === 0) {\n            return \"-\";\n        } else {\n            return hash.join(\"-\");\n        }\n    }\n    // Answer the hash of the source area\n    sourceHash() {\n        var hash = [];\n        var blocks = this.sourceBlocks();\n        for (var i = 0; i < blocks.length; i++) {\n            hash.push(blocks[i].hash());\n        }\n        if (hash.length === 0) {\n            return \"-\";\n        } else {\n            return hash.join(\"-\");\n        }\n    }\n    // Inter-problem adaptive changes\n    // Based on the recentAttempts, remove distractors, add indent, combine blocks\n    adaptBlocks(input) {\n        var blocks = [];\n        var distractors = [];\n        var block;\n        for (var i = 0; i < input.length; i++) {\n            block = input[i];\n            if (block.isDistractor()) {\n                distractors.push(block);\n            } else {\n                blocks.push(block);\n            }\n        }\n        this.recentAttempts = localStorage.getItem(\n            this.adaptiveId + \"recentAttempts\"\n        );\n        if (this.recentAttempts == undefined || this.recentAttempts == \"NaN\") {\n            this.recentAttempts = 3;\n        }\n        var lastestAttemptCount = this.recentAttempts;\n        var nBlocks = blocks.length;\n        var nBlocksToCombine = 0;\n        var nDistractors = distractors.length;\n        var nToRemove = 0;\n        this.pairDistractors = true;\n        var giveIndentation = false;\n        if (lastestAttemptCount < 2) {\n            // 1 Try\n            this.pairDistractors = false;\n            this.limitDistractors = false;\n        } else if (lastestAttemptCount < 4) {\n            // 2-3 Tries\n            // Do nothing they are doing normal\n            this.pairDistractors = true;\n        } else if (lastestAttemptCount < 6) {\n            // 4-5 Tries\n            // pair distractors\n            this.pairDistractors = true;\n        } else if (lastestAttemptCount < 8) {\n            // 6-7 Tries\n            // Remove 50% of distractors\n            nToRemove = 0.5 * nDistractors;\n            this.pairDistractors = true;\n        } else {\n            // 8+ Tries\n            // Remove all of distractors\n            nToRemove = nDistractors;\n            this.pairDistractors = true;\n        }\n        /*\n        else if(lastestAttemptCount < 12) { //10-11\n            // Remove all distractors and give indentation\n            nToRemove = nDistractors;\n            giveIndentation = true;\n            this.pairDistractors = true;\n        } else if(lastestAttemptCount < 14) { // 12-13 Tries\n            // Remove all of distractors\n            // give indentation\n            // reduce problem to 3/4 size\n            giveIndentation = true;\n            nToRemove = nDistractors;\n            nBlocksToCombine = .25 * nBlocks;\n            this.pairDistractors = true;\n        } else { // >= 14 Tries\n            // Remove all of distractors\n            // give indentation\n            // reduce problem to 1/2 size\n            giveIndentation = true;\n            nToRemove = nDistractors;\n            nBlocksToCombine = .5 * nBlocks;\n            this.pairDistractors = true;\n        }\n        */\n        nBlocksToCombine = Math.min(nBlocksToCombine, nBlocks - 3);\n        // Never combine so where there are less than three blocks left\n        // Remove distractors\n        distractors = this.shuffled(distractors);\n        distractors = distractors.slice(0, nToRemove);\n        var output = [];\n        for (i = 0; i < input.length; i++) {\n            block = input[i];\n            if (!block.isDistractor()) {\n                output.push(block);\n            } else if ($.inArray(block, distractors) == -1) {\n                output.push(block);\n            }\n        }\n        //var output = input;\n        if (giveIndentation) {\n            for (let i = 0; i < output.length; i++) {\n                output[i].addIndent();\n            }\n            this.indent = 0;\n            this.noindent = true;\n        }\n        // combine blocks\n        var solution = [];\n        for (i = 0; i < this.lines.length; i++) {\n            for (var j = 0; j < output.length; j++) {\n                if (output[j].lines[0].index == i) {\n                    solution.push(output[j]);\n                }\n            }\n        }\n        for (let i = 0; i < nBlocksToCombine; i++) {\n            // combine one set of blocks\n            var best = -10;\n            var combineIndex = -10;\n            for (j = 0; j < solution.length - 1; j++) {\n                block = solution[j];\n                var next = solution[j + 1];\n                var rating = 10 - block.lines.length - next.lines.length;\n                var blockIndent = block.minimumLineIndent();\n                var nextIndent = next.minimumLineIndent();\n                if (blockIndent == nextIndent) {\n                    rating += 2;\n                } else if (blockIndent > nextIndent) {\n                    rating -= 1;\n                }\n                if (\n                    block.lines[block.lines.length - 1].indent ==\n                    next.lines[0].indent\n                ) {\n                    rating += 1;\n                }\n                if (rating >= best) {\n                    best = rating;\n                    combineIndex = j;\n                }\n            }\n            block = solution[combineIndex];\n            next = solution[combineIndex + 1];\n            for (j = 0; j < next.lines.length; j++) {\n                block.addLine(next.lines[j]);\n            }\n            var newSolution = [];\n            for (j = 0; j < solution.length; j++) {\n                if (j !== combineIndex + 1) {\n                    newSolution.push(solution[j]);\n                }\n            }\n            var solution = newSolution;\n        }\n        // reorder\n        var combinedOutput = [];\n        for (i = 0; i < output.length; i++) {\n            for (j = 0; j < solution.length; j++) {\n                if (output[i].lines[0].index == solution[j].lines[0].index) {\n                    combinedOutput.push(solution[j]);\n                }\n            }\n        }\n        return combinedOutput;\n    }\n    // Return an array of code blocks based on what is specified in the problem\n    blocksFromSource() {\n        var unorderedBlocks = [];\n        var originalBlocks = [];\n        var blocks = [];\n        var lines = [];\n        var block, line, i;\n        for (i = 0; i < this.lines.length; i++) {\n            line = this.lines[i];\n            // CodeTailor: do not include place holder or settled solution lines in source blocks\n            if (line.isPlaceholderLine || line.isSettled) {\n                continue;\n            }\n            lines.push(line);\n            if (!line.groupWithNext) {\n                unorderedBlocks.push(new ParsonsBlock(this, lines));\n                lines = [];\n            }\n        }\n        originalBlocks = unorderedBlocks;\n        // Trim the distractors\n        var removedBlocks = [];\n        if (this.options.maxdist !== undefined) {\n            var maxdist = this.options.maxdist;\n            var distractors = [];\n            for (i = 0; i < unorderedBlocks.length; i++) {\n                block = unorderedBlocks[i];\n                if (block.lines[0].distractor) {\n                    distractors.push(block);\n                }\n            }\n            if (maxdist < distractors.length) {\n                distractors = this.shuffled(distractors);\n                distractors = distractors.slice(0, maxdist);\n                for (i = 0; i < unorderedBlocks.length; i++) {\n                    block = unorderedBlocks[i];\n                    if (block.lines[0].distractor) {\n                        if ($.inArray(block, distractors) > -1) {\n                            blocks.push(block);\n                        } else {\n                            removedBlocks.push(i);\n                        }\n                    } else {\n                        blocks.push(block);\n                    }\n                }\n                unorderedBlocks = blocks;\n                blocks = [];\n            }\n        }\n\n        // This is necessary, set the pairDistractors value before blocks get shuffled - William Li (August 2020)\n        if (this.recentAttempts < 2) {\n            // 1 Try\n            this.pairDistractors = false;\n        } else {\n            this.pairDistractors = true;\n        }\n\n        if (this.options.order === undefined) {\n            // Shuffle, respecting paired distractors\n            var chunks = [],\n                chunk = [];\n            for (i = 0; i < unorderedBlocks.length; i++) {\n                block = unorderedBlocks[i];\n                if (block.lines[0].paired && this.pairDistractors) {\n                    // William Li (August 2020)\n                    chunk.push(block);\n                } else {\n                    chunk = [];\n                    chunk.push(block);\n                    chunks.push(chunk);\n                }\n            }\n            chunks = this.shuffled(chunks);\n            for (i = 0; i < chunks.length; i++) {\n                chunk = chunks[i];\n                if (chunk.length > 1) {\n                    // shuffle paired distractors\n                    chunk = this.shuffled(chunk);\n                    for (j = 0; j < chunk.length; j++) {\n                        blocks.push(chunk[j]);\n                    }\n                } else {\n                    blocks.push(chunk[0]);\n                }\n            }\n        } else {\n            // Order according to order specified\n            for (i = 0; i < this.options.order.length; i++) {\n                block = originalBlocks[this.options.order[i]];\n                if (\n                    block !== undefined &&\n                    $.inArray(this.options.order[i], removedBlocks) < 0\n                ) {\n                    blocks.push(block);\n                }\n            }\n        }\n        this.pairDistractors = true;\n        if (this.options.adaptive) {\n            this.limitDistractors = true;\n            blocks = this.adaptBlocks(blocks);\n            if (!this.limitDistractors) {\n                for (i = 0; i < removedBlocks.length; i++) {\n                    var index =\n                        this.options.order == undefined\n                            ? Math.random(0, blocks.length)\n                            : $.inArray(removedBlocks[i], this.options.order);\n                    blocks.splice(index, 0, originalBlocks[removedBlocks[i]]);\n                }\n            }\n        }\n        if (this.pairDistractors && this.options.order != undefined) {\n            //move pairs together\n            //Go through array looking for ditractor and its pair\n            for (i = 1; i < originalBlocks.length; i++) {\n                if (\n                    originalBlocks[i].lines[0].paired &&\n                    $.inArray(originalBlocks[i], blocks) >= 0\n                ) {\n                    var j = i;\n                    while ($.inArray(originalBlocks[j - 1], blocks) < 0) {\n                        // find the paired distractor or solution block it will be next to\n                        j--;\n                    }\n                    var indexTo = $.inArray(originalBlocks[j - 1], blocks);\n                    var indexFrom = $.inArray(originalBlocks[i], blocks);\n                    blocks.splice(indexFrom, 1);\n                    blocks.splice(indexTo, 0, originalBlocks[i]);\n                }\n            }\n        }\n        return blocks;\n    }\n    // Return a codeblock that corresponds to the hash\n    blockFromHash(hash) {\n        var split = hash.split(\"_\");\n        var lines = [];\n        for (var i = 0; i < split.length - 1; i++) {\n            lines.push(this.lines[split[i]]);\n        }\n        var block = new ParsonsBlock(this, lines);\n        if (this.noindent) {\n            block.indent = 0;\n        } else {\n            block.indent = Number(split[split.length - 1]);\n        }\n        return block;\n    }\n    // Return an array of codeblocks that corresponds to the hash\n    blocksFromHash(hash) {\n        var split;\n        if (hash === \"-\" || hash === \"\" || hash === null) {\n            split = [];\n        } else {\n            split = hash.split(\"-\");\n        }\n        var blocks = [];\n        for (var i = 0; i < split.length; i++) {\n            blocks.push(this.blockFromHash(split[i]));\n        }\n        if (this.options.adaptive) {\n            return this.adaptBlocks(blocks);\n        } else {\n            return blocks;\n        }\n    }\n\n    // CodeTailor: Return a list of blocks with placeholders that should be provided in the answer area.\n    settledBlocksFromSource() {\n        var blocks = [];\n        var lines = [];\n        var answerBlocksCount = 0;\n        var line, i;\n        var settledBlocksBeforeCount = 0;\n        var prevSettledBlock = undefined;\n        var prevPlaceholderSize = 0;\n\n        for (i = 0; i < this.lines.length; i++) {\n            line = this.lines[i];\n            lines.push(line);\n            if (!line.groupWithNext) {\n                if (line.isPlaceholderLine) {\n                    // found a placeholder line. a placeholder line has at least one normal block before it.\n                    // also a placeholder line always has \"groupWithNext\" false.\n                    blocks.push(new PlaceholderBlock(this, lines, answerBlocksCount, settledBlocksBeforeCount));\n                    // update the number of blocks missing for the settled block above\n                    if (prevSettledBlock) {\n                        prevSettledBlock.setBlocksAfter(answerBlocksCount);\n                    }\n                    // save the current number of answer blocks to update the tooltip for the settled block below\n                    prevPlaceholderSize = answerBlocksCount;\n                    // reset answer block count\n                    answerBlocksCount = 0;\n                    lines = [];\n                } else if (line.isSettled) {\n                    if (blocks.length == 0) {\n                        this.firstBlockSettled = true;\n                    }\n                    var set = new SettledBlock(this, lines);\n                    if (!this.noindent) {\n                        set.indent = lines[0].indent;\n                    }\n                    console.log(\"settled block set\", set);\n                    blocks.push(set);\n                    if (prevPlaceholderSize > 0) {\n                        set.setBlocksBefore(prevPlaceholderSize);\n                    }\n                    prevSettledBlock = set;\n                    settledBlocksBeforeCount++;\n                    answerBlocksCount = 0;\n                    lines = [];\n                } else {\n                    if (!lines[0].distractor) {\n                        answerBlocksCount++;\n                    }\n                    lines = [];\n                }\n            }\n        }\n        if (blocks.length > 0 && blocks[blocks.length - 1].isSettled) {\n            this.lastBlockSettled = true;\n        }\n        console.log('settledblocksfromsource', blocks)\n        return blocks;\n    }\n\n    // Return a block object by the full id including id prefix\n    getBlockById(id) {\n        for (var i = 0; i < this.blocks.length; i++) {\n            var block = this.blocks[i];\n            if (block.view.id == id) {\n                return block;\n            }\n        }\n        return undefined;\n    }\n    // Return array of codeblocks that are the solution\n    solutionBlocks() {\n        var solutionBlocks = [];\n        var solutionLines = [];\n        for (var i = 0; i < this.lines.length; i++) {\n            if (!this.lines[i].distractor) {\n                solutionLines.push(this.lines[i]);\n            }\n        }\n        var block = solutionLines[0].block();\n        solutionBlocks.push(block);\n        for (let i = 1; i < solutionLines.length; i++) {\n            var nextBlock = solutionLines[i].block();\n            if (block !== nextBlock) {\n                block = nextBlock;\n                solutionBlocks.push(block);\n            }\n        }\n        return solutionBlocks;\n    }\n    // Return array of codeblocks based on what is in the source field\n    sourceBlocks() {\n        var sourceBlocks = [];\n        var children = this.sourceArea.childNodes;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if ($(child).hasClass(\"block\")) {\n                sourceBlocks.push(this.getBlockById(child.id));\n            }\n        }\n        return sourceBlocks;\n    }\n    // Return array of enabled codeblocks based on what is in the source field\n    enabledSourceBlocks() {\n        var all = this.sourceBlocks();\n        var enabled = [];\n        for (var i = 0; i < all.length; i++) {\n            var block = all[i];\n            if (block.enabled()) {\n                enabled.push(block);\n            }\n        }\n        return enabled;\n    }\n    // Return array of codeblocks based on what is in the answer field\n    answerBlocks() {\n        var answerBlocks = [];\n        var children = this.answerArea.childNodes;\n        for (var i = 0; i < children.length; i++) {\n            var block = this.getBlockById(children[i].id);\n            if (block !== undefined) {\n                answerBlocks.push(block);\n            }\n        }\n        return answerBlocks;\n    }\n    // Return array of enabled codeblocks based on what is in the answer field\n    enabledAnswerBlocks() {\n        var all = this.answerBlocks();\n        var enabled = [];\n        for (var i = 0; i < all.length; i++) {\n            var block = all[i];\n            if (block.enabled()) {\n                enabled.push(block);\n            }\n        }\n        return enabled;\n    }\n    // Return array of codelines based on what is in the answer field\n    answerLines() {\n        var answerLines = [];\n        var blocks = this.answerBlocks();\n        for (var i = 0; i < blocks.length; i++) {\n            var block = blocks[i];\n            if (!block.isPlaceholder) {\n                // CodeTailor: adding non placeholder block\n                for (var j = 0; j < block.lines.length; j++) {\n                    answerLines.push(block.lines[j]);\n                }\n            }\n        }\n        return answerLines;\n    }\n    // Go up the hierarchy until you get to a block; return that block element\n    getBlockFor(element) {\n        var check = element;\n        while (!check.classList.contains(\"block\")) {\n            check = check.parentElement;\n        }\n        return check;\n    }\n    // Return the maximum indent for the solution\n    solutionIndent() {\n        var indent = 0;\n        for (var i = 0; i < this.blocks.length; i++) {\n            var block = this.blocks[i];\n            indent = Math.max(indent, block.solutionIndent());\n        }\n        return indent;\n    }\n    /* =====================================================================\n    ==== ACTION ============================================================\n    ===================================================================== */\n    // The \"Check Me\" button was pressed.\n    checkCurrentAnswer() {\n        if (!this.hasSolved) {\n            this.checkCount++;\n            this.clearFeedback();\n            if (this.adaptiveId == undefined) {\n                this.adaptiveId = this.storageId;\n            }\n            // TODO - rendering feedback is buried in the grader.grade method.\n            // to disable feedback set this.grader.showfeedback boolean\n            this.grader.showfeedback = false;\n            this.grade = this.grader.grade();\n            if (this.grade == \"correct\") {\n                this.hasSolved = true;\n                this.correct = true;\n                $(this.checkButton).prop(\"disabled\", true);\n                // CodeTailor: make the Copy Answer button visible when the puzzle is solved\n                if (this.hasSolved && this.options.scaffolding) {\n                    const copyBtn = document.querySelector(`#copy-answer-button-${this.divid}`); // copy-answer-button-${puzzleScaffoldingDivid}\n                    if (copyBtn) {\n                        copyBtn.classList.remove('copy-button-hide');\n                    }\n                }\n                localStorage.setItem(this.adaptiveId + \"Solved\", true);\n                this.recentAttempts = this.checkCount;\n                localStorage.setItem(\n                    this.adaptiveId + \"recentAttempts\",\n                    this.recentAttempts\n                );\n            }\n            localStorage.setItem(\n                this.adaptiveId + this.divid + \"Count\",\n                this.checkCount\n            );\n            this.setLocalStorage();\n            // if not solved and not too short then check if should provide help\n            if (!this.hasSolved && this.grade !== \"incorrectTooShort\") {\n                if (this.canHelp) {\n                    // only count the attempt if the answer is different (to prevent gaming)\n                    var answerHash = this.answerHash();\n                    if (this.lastAnswerHash !== answerHash) {\n                        this.numDistinct++;\n                        this.lastAnswerHash = answerHash;\n                    }\n                    // if time to offer help\n                    if (this.numDistinct == 3 && !this.gotHelp) {\n                        alert($.i18n(\"msg_parson_help_info\"));\n                    } // end if\n                } // end if can help\n            } // end if not solved\n        } // end outer if not solved\n\n        // if now or previous was correct, display runnable\n        if (this.hasSolved && this.options.runnable) {\n            if (!this.runnableDiv)\n                this.generateRunableVersion();\n            else //reveal \"reset\" runnable\n                this.runnableDiv.style.display = null;\n        }\n    }\n\n    // Conver the parsons-runnable into an activecode and display it\n    generateRunableVersion() {\n        this.runnableDiv = document.getElementById(this.divid + \"-runnable\");\n        this.runnableDiv.style.display = null;\n\n        let parsonsText = '';\n        for (let b of this.answerBlocks()) {\n            for (let l of b.lines) {\n                parsonsText += '    '.repeat(l.indent) + l.text + '\\n';\n            }\n        }\n        parsonsText = parsonsText.slice(0, -1); // remove last newline\n\n        const textEl = this.runnableDiv.querySelector('textarea');\n        textEl.innerHTML = textEl.innerHTML.replace('==PARSONSCODE==', parsonsText);\n\n        // data-component=\"parsons-runnable\" marks it as waiting to be turned into an activecode\n        const activeCodeToBe = this.runnableDiv.querySelector('[data-component=\"parsons-runnable\"]');\n        activeCodeToBe.dataset.component = 'activecode';\n\n        window.runestoneComponents.renderOneComponent(this.runnableDiv);\n    }\n\n    renderFeedback() {\n        this.grader.showfeedback = true;\n        this.grade = this.grader.graderState;\n        var feedbackArea;\n        var answerArea = $(this.answerArea);\n\n        if (this.showfeedback === true) {\n            feedbackArea = $(this.messageDiv);\n        } else {\n            feedbackArea = $(\"#doesnotexist\");\n        }\n\n        if (this.grade === \"correct\") {\n            answerArea.addClass(\"correct\");\n            this.messageDiv.style.visibility = \"visible\";\n            feedbackArea.attr(\"class\", \"alert alert-info\");\n            let message = this.checkCount > 1\n                ? $.i18n(\"msg_parson_correct\", this.checkCount)\n                : $.i18n(\"msg_parson_correct_first_try\");\n            if (this.options.runnable)\n                message += \" \" + $.i18n(\"msg_parson_correct_runnable\");\n            setTimeout(() => {\n                feedbackArea.html(message);\n            }, 10);\n        }\n\n        if (this.grade === \"incorrectTooShort\") {\n            // too little code\n            answerArea.addClass(\"incorrect\");\n            this.messageDiv.style.visibility = \"visible\";\n            feedbackArea.attr(\"class\", \"alert alert-danger\");\n            setTimeout(() => {\n                feedbackArea.html($.i18n(\"msg_parson_too_short\"));\n            }, 10);\n        }\n\n        if (this.grade === \"incorrectIndent\") {\n            var incorrectBlocks = [];\n            for (let i = 0; i < this.grader.indentLeft.length; i++) {\n                block = this.grader.indentLeft[i].block();\n                if (incorrectBlocks.indexOf(block) == -1) {\n                    incorrectBlocks.push(block);\n                    $(block.view).addClass(\"indentLeft\");\n                }\n            }\n            for (let i = 0; i < this.grader.indentRight.length; i++) {\n                block = this.grader.indentRight[i].block();\n                if (incorrectBlocks.indexOf(block) == -1) {\n                    incorrectBlocks.push(block);\n                    $(block.view).addClass(\"indentRight\");\n                }\n            }\n            this.messageDiv.style.visibility = \"visible\";\n            feedbackArea.attr(\"class\", \"alert alert-danger\");\n            setTimeout(() => {\n                if (incorrectBlocks.length == 1) {\n                    feedbackArea.html($.i18n(\"msg_parson_wrong_indent\"));\n                } else {\n                    feedbackArea.html($.i18n(\"msg_parson_wrong_indents\"));\n                }\n            }, 10);\n        }\n\n        if (this.grade === \"incorrectMoveBlocks\") {\n            var answerBlocks = this.answerBlocks();\n            var inSolution = [];\n            var inSolutionIndexes = [];\n            var notInSolution = [];\n            for (let i = 0; i < answerBlocks.length; i++) {\n                var block = answerBlocks[i];\n                var index = this.solution.indexOf(block.lines[0]);\n                if (index == -1) {\n                    notInSolution.push(block);\n                } else {\n                    inSolution.push(block);\n                    inSolutionIndexes.push(index);\n                }\n            }\n            var lisIndexes = this.grader.inverseLISIndices(\n                inSolutionIndexes,\n                inSolution\n            );\n            for (let i = 0; i < lisIndexes.length; i++) {\n                notInSolution.push(inSolution[lisIndexes[i]]);\n            }\n            answerArea.addClass(\"incorrect\");\n            this.messageDiv.style.visibility = \"visible\";\n            feedbackArea.attr(\"class\", \"alert alert-danger\");\n            if (this.showfeedback === true) {\n                for (let i = 0; i < notInSolution.length; i++) {\n                    $(notInSolution[i].view).addClass(\"incorrectPosition\");\n                }\n            }\n            setTimeout(() => {\n                feedbackArea.html($.i18n(\"msg_parson_wrong_order\"));\n            }, 10);\n        }\n    }\n\n    /* =====================================================================\n    ==== ADAPTIVE ==========================================================\n    ===================================================================== */\n    // Initialize this problem as adaptive\n    //    helpCount = number of checks before help is given (negative)\n    //    canHelp = boolean as to whether help can be provided\n    //    checkCount = how many times it has been checked before correct\n    //    userRating = 0..100 how good the person is at solving problems\n    initializeAdaptive() {\n        this.adaptiveId = super.localStorageKey();\n        this.canHelp = true;\n        //this.helpCount = -3; // Number of checks before help is offered\n        this.checkCount = 0;\n        this.numDistinct = 0; // number of distinct solution attempts (different from previous)\n        this.gotHelp = false;\n        // Initialize the userRating\n        var storageProblem = localStorage.getItem(this.adaptiveId + \"Problem\");\n        if (storageProblem == this.divid) {\n            // Already in this problem\n            this.checkCount = localStorage.getItem(\n                this.adaptiveId + this.divid + \"Count\"\n            );\n            if (this.checkCount == undefined) {\n                this.checkCount = 0;\n            }\n            return this;\n        }\n        var count = localStorage.getItem(\n            this.adaptiveId + this.divid + \"Count\"\n        );\n        if (count == undefined || count == \"NaN\") {\n            count = 0;\n        }\n        this.checkCount = count;\n        this.recentAttempts = localStorage.getItem(\n            this.adaptiveId + \"recentAttempts\"\n        );\n        if (this.recentAttempts == undefined || this.recentAttempts == \"NaN\") {\n            this.recentAttempts = 3;\n        }\n        localStorage.setItem(\n            this.adaptiveId + \"recentAttempts\",\n            this.recentAttempts\n        );\n        localStorage.setItem(this.adaptiveId + \"Problem\", this.divid);\n        localStorage.setItem(\n            this.adaptiveId + this.divid + \"Count\",\n            this.checkCount\n        );\n        localStorage.setItem(this.adaptiveId + \"Solved\", false);\n    }\n    // Return a boolean of whether the user must deal with indentation\n    usesIndentation() {\n        if (this.noindent || this.solutionIndent() == 0) {\n            // was $(this.answerArea).hasClass(\"answer\") - bje changed\n            return false;\n        } else {\n            return true;\n        }\n    }\n    // Find a distractor to remove to make the problem easier\n    //  * try first in the answer area\n    //  * if not, try the source area\n    //  * if not, return undefined\n    distractorToRemove() {\n        var blocks = this.enabledAnswerBlocks();\n        var block;\n        for (let i = 0; i < blocks.length; i++) {\n            block = blocks[i];\n            if (block.isDistractor()) {\n                return block;\n            }\n        }\n        blocks = this.enabledSourceBlocks();\n        for (let i = 0; i < blocks.length; i++) {\n            block = blocks[i];\n            if (block.isDistractor()) {\n                return block;\n            }\n        }\n        return undefined;\n    }\n    // Return the number of blocks that exist\n    numberOfBlocks(fIncludeDistractors = true) {\n        var numberOfBlocks = 0;\n        for (var i = 0; i < this.blocks.length; i++) {\n            if (\n                this.blocks[i].enabled() &&\n                (fIncludeDistractors || !this.blocks[i].isDistractor())\n            ) {\n                numberOfBlocks += 1;\n            }\n        }\n        return numberOfBlocks;\n    }\n    // Remove this distractors to make the problem easier\n    removeDistractor(block) {\n        // Alert the user to what is happening\n        var feedbackArea = $(this.messageDiv);\n        this.messageDiv.style.visibility = \"visible\";\n        feedbackArea.attr(\"class\", \"alert alert-info\");\n        setTimeout(() => {\n            feedbackArea.html($.i18n(\"msg_parson_not_solution\"));\n        }, 10);\n        // Stop ability to select\n        if (block.lines[0].distractHelptext) {\n            block.view.setAttribute(\"data-toggle\", \"tooltip\");\n            block.view.setAttribute(\"title\", block.lines[0].distractHelptext);\n        }\n        block.disable();\n        // If in answer area, move to source area\n        if (!block.inSourceArea()) {\n            var sourceRect = this.sourceArea.getBoundingClientRect();\n            var startX = block.pageXCenter() - 1;\n            var startY = block.pageYCenter();\n            var endX =\n                sourceRect.left + window.pageXOffset + sourceRect.width / 2;\n            var endY =\n                sourceRect.top +\n                window.pageYOffset +\n                block.view.getBoundingClientRect().height / 2;\n            var slideUnderBlock = block.slideUnderBlock();\n            if (slideUnderBlock !== undefined) {\n                endY +=\n                    slideUnderBlock.view.getBoundingClientRect().height + 20;\n                endY += parseInt($(slideUnderBlock.view).css(\"top\"));\n            }\n            var that = this;\n            $(block.view).css({\n                \"border-color\": \"#000\",\n                \"background-color\": \"#fff\",\n            });\n            $(block.view).animate(\n                {\n                    opacity: 1.0,\n                },\n                {\n                    duration:\n                        Math.sqrt(\n                            Math.pow(endY - startY, 2) +\n                            Math.pow(endX - startX, 2)\n                        ) *\n                        4 +\n                        500,\n                    start: function () {\n                        that.moving = block;\n                        that.movingX = startX;\n                        that.movingY = startY;\n                        that.updateView();\n                    },\n                    progress: function (a, p, c) {\n                        that.movingX = startX * (1 - p) + endX * p;\n                        that.movingY = startY * (1 - p) + endY * p;\n                        that.updateView();\n                    },\n                    complete: function () {\n                        delete that.moving;\n                        delete that.movingX;\n                        delete that.movingY;\n                        that.updateView();\n                        $(block.view).animate(\n                            {\n                                opacity: 0.3,\n                                \"border-color\": \"#d3d3d3\",\n                                \"background-color\": \"#efefef\",\n                            },\n                            {\n                                duration: 1000,\n                                complete: function () {\n                                    $(block.view).css({\n                                        opacity: \"\",\n                                        \"border-color\": \"\",\n                                        \"background-color\": \"\",\n                                    });\n                                    $(block.view).addClass(\"disabled\");\n                                },\n                            }\n                        );\n                    },\n                }\n            );\n        } else {\n            $(block.view).css({\n                \"border-color\": \"#000\",\n                \"background-color\": \"#fff\",\n            });\n            $(block.view).animate(\n                {\n                    opacity: 0.3,\n                    \"border-color\": \"#d3d3d3\",\n                    \"background-color\": \"#efefef\",\n                },\n                {\n                    duration: 2000,\n                    complete: function () {\n                        $(block.view).css({\n                            \"border-color\": \"\",\n                            \"background-color\": \"\",\n                        });\n                    },\n                }\n            );\n        }\n    }\n    // Give the user the indentation\n    removeIndentation() {\n        // Alert the user to what is happening\n        var feedbackArea = $(this.messageDiv);\n        this.messageDiv.style.visibility = \"visible\";\n        feedbackArea.attr(\"class\", \"alert alert-info\");\n        setTimeout(() => {\n            feedbackArea.html($.i18n(\"msg_parson_provided_indent\"));\n        }, 10);\n        // Move and resize blocks\n        var blockWidth = 200;\n        for (var i = 0; i < this.lines.length; i++) {\n            var line = this.lines[i];\n            var expandedWidth =\n                line.width + line.indent * this.options.pixelsPerIndent + 30;\n            blockWidth = Math.max(blockWidth, expandedWidth);\n        }\n        if (this.options.numbered != undefined) {\n            blockWidth += 25;\n        }\n        this.areaWidth = blockWidth + 22;\n        var block, indent;\n        var sourceBlocks = this.sourceBlocks();\n        for (let i = 0; i < sourceBlocks.length; i++) {\n            block = sourceBlocks[i];\n            indent = block.solutionIndent();\n            if (indent == 0) {\n                $(block.view).animate(\n                    {\n                        width: blockWidth,\n                    },\n                    {\n                        duration: 1000,\n                    }\n                );\n            } else {\n                $(block.view).animate(\n                    {\n                        width:\n                            blockWidth - indent * this.options.pixelsPerIndent,\n                        \"padding-left\":\n                            indent * this.options.pixelsPerIndent + 10,\n                    },\n                    {\n                        duration: 1000,\n                    }\n                );\n            }\n        }\n        for (let i = 0; i < this.pairedDivs.length; i++) {\n            $(this.pairedDivs[i]).animate(\n                {\n                    width: blockWidth + 34,\n                },\n                {\n                    duration: 1000,\n                }\n            );\n        }\n        var answerBlocks = this.answerBlocks();\n        for (let i = 0; i < answerBlocks.length; i++) {\n            block = answerBlocks[i];\n            indent = block.solutionIndent();\n            if (indent == 0) {\n                $(block.view).animate(\n                    {\n                        left: 0,\n                        width: blockWidth,\n                    },\n                    {\n                        duration: 1000,\n                    }\n                );\n            } else {\n                $(block.view).animate(\n                    {\n                        left: 0,\n                        width:\n                            blockWidth - indent * this.options.pixelsPerIndent,\n                        \"padding-left\":\n                            indent * this.options.pixelsPerIndent + 10,\n                    },\n                    {\n                        duration: 1000,\n                    }\n                );\n            }\n        }\n        // Resize answer and source area\n        $(this.answerArea).removeClass(\"answer1 answer2 answer3 answer4\");\n        $(this.answerArea).addClass(\"answer\");\n        this.indent = 0;\n        this.noindent = true;\n        $(this.sourceArea).animate(\n            {\n                width: this.areaWidth + 2,\n            },\n            {\n                duration: 1000,\n            }\n        );\n        $(this.answerArea).animate(\n            {\n                width: this.areaWidth + 2,\n            },\n            {\n                duration: 1000,\n            }\n        );\n        // Change the model (with view)\n        $(this.answerArea).animate(\n            {\n                opacity: 1.0,\n            },\n            {\n                duration: 1100,\n                complete: function () {\n                    $(this.answerArea).css({\n                        opacity: \"\",\n                    });\n                    // Update the model\n                    for (let i = 0; i < sourceBlocks.length; i++) {\n                        sourceBlocks[i].addIndent();\n                    }\n                    for (let i = 0; i < answerBlocks.length; i++) {\n                        answerBlocks[i].addIndent();\n                    }\n                },\n            }\n        );\n    }\n\n    // first check if any solution blocks are in the source still (left side) and not\n    // in the answer\n    getSolutionBlockInSource() {\n        var solutionBlocks = this.solutionBlocks();\n        var answerBlocks = this.answerBlocks();\n        var sourceBlocks = this.sourceBlocks();\n        var solBlock = null;\n        var currBlock = null;\n\n        // loop through sourceBlocks and return a block if it is not in the solution\n        for (var i = 0; i < sourceBlocks.length; i++) {\n            // get the current block from the source\n            currBlock = sourceBlocks[i];\n\n            // if currBlock is in the solution and isn't the first block and isn't in the answer\n            if (\n                solutionBlocks.indexOf(currBlock) > 0 &&\n                answerBlocks.indexOf(currBlock) < 0\n            ) {\n                return currBlock;\n            }\n        }\n        // didn't find any block in the source that is in the solution\n        return null;\n    }\n\n    // Find a block2 that is furthest from block1 in the answer\n    // don't use the very first block in the solution as block2\n    getFurthestBlock() {\n        var solutionBlocks = this.solutionBlocks();\n        var answerBlocks = this.answerBlocks();\n        var maxDist = 0;\n        var dist = 0;\n        var maxBlock = null;\n        var currBlock = null;\n        var indexSol = 0;\n        var prevBlock = null;\n        var indexPrev = 0;\n\n        // loop through the blocks in the answer\n        for (var i = 0; i < answerBlocks.length; i++) {\n            currBlock = answerBlocks[i];\n            indexSol = solutionBlocks.indexOf(currBlock);\n            if (indexSol > 0) {\n                prevBlock = solutionBlocks[indexSol - 1];\n                indexPrev = answerBlocks.indexOf(prevBlock);\n                //alert(\"my index \" + i + \" index prev \" + indexPrev);\n\n                // calculate the distance in the answer\n                dist = Math.abs(i - indexPrev);\n                if (dist > maxDist) {\n                    maxDist = dist;\n                    maxBlock = currBlock;\n                }\n            }\n        }\n        return maxBlock;\n    }\n\n    // Combine blocks together\n    combineBlocks() {\n        var solutionBlocks = this.solutionBlocks();\n        var answerBlocks = this.answerBlocks();\n        var sourceBlocks = this.sourceBlocks();\n\n        // Alert the user to what is happening\n        var feedbackArea = $(this.messageDiv);\n        this.messageDiv.style.visibility = \"visible\";\n        feedbackArea.attr(\"class\", \"alert alert-info\");\n        setTimeout(() => {\n            feedbackArea.html($.i18n(\"msg_parson_combined_blocks\"));\n        }, 10);\n        var block1 = null;\n        var block2 = null;\n\n        // get a solution block that is still in source (not answer), if any\n        block2 = this.getSolutionBlockInSource();\n\n        // if none in source get block that is furthest from block1\n        if (block2 == null) {\n            block2 = this.getFurthestBlock();\n        }\n\n        // get block1 (above block2) in solution\n        var index = solutionBlocks.indexOf(block2);\n        block1 = solutionBlocks[index - 1];\n\n        // get index of each in answer\n        var index1 = answerBlocks.indexOf(block1);\n        var index2 = answerBlocks.indexOf(block2);\n        var move = false;\n\n        // if both in answer set move based on if directly above each other\n        if (index1 >= 0 && index2 >= 0) {\n            move = index1 + 1 !== index2;\n\n            // else if both in source set move again based on if above each other\n        } else if (index1 < 0 && index2 < 0) {\n            index1 = sourceBlocks.indexOf(block1);\n            index2 = sourceBlocks.indexOf(block2);\n            move = index1 + 1 !== index2;\n\n            // one in source and one in answer so must move\n        } else {\n            move = true;\n            if (index1 < 0) {\n                index1 = sourceBlocks.indexOf(block1);\n            }\n            if (index2 < 0) {\n                index2 = sourceBlocks.indexOf(block2);\n            }\n        }\n\n        var subtract = index2 < index1; // is block2 higher\n\n        if (move) {\n            // Move the block\n            var startX = block2.pageXCenter() - 1;\n            var startY = block2.pageYCenter();\n            var endX = block1.pageXCenter() - 1;\n            var endY =\n                block1.pageYCenter() +\n                block1.view.getBoundingClientRect().height / 2 +\n                5;\n            if (subtract) {\n                endY -= block2.view.getBoundingClientRect().height / 2;\n            } else {\n                endY += block2.view.getBoundingClientRect().height / 2;\n            }\n            var that = this;\n            $(block2.view).animate(\n                {\n                    opacity: 1,\n                },\n                {\n                    duration: 1000, // 1 seccond\n                    start: function () {\n                        $(block1.view).css({\n                            \"border-color\": \"#000\",\n                            \"background-color\": \"#fff\",\n                        });\n                        $(block2.view).css({\n                            \"border-color\": \"#000\",\n                            \"background-color\": \"#fff\",\n                        });\n                        block2.lines[0].index += 1000;\n                        that.moving = block2;\n                        that.movingX = startX;\n                        that.movingY = startY;\n                        that.updateView();\n                    },\n                    progress: function (a, p, c) {\n                        that.movingX = startX * (1 - p) + endX * p;\n                        that.movingY = startY * (1 - p) + endY * p;\n                        that.updateView();\n                    },\n                    complete: function () {\n                        delete that.moving;\n                        delete that.movingX;\n                        delete that.movingY;\n                        that.updateView();\n                        block2.lines[0].index -= 1000;\n                        block1.consumeBlock(block2);\n                        $(block1.view).animate(\n                            {\n                                \"border-color\": \"#d3d3d3\",\n                                \"background-color\": \"#efefef\",\n                            },\n                            {\n                                duration: 1000,\n                                complete: function () {\n                                    $(block1.view).css({\n                                        \"border-color\": \"\",\n                                        \"background-color\": \"\",\n                                    });\n                                },\n                            }\n                        );\n                    },\n                }\n            );\n        } else {\n            $(block2.view).animate(\n                {\n                    opacity: 1,\n                },\n                {\n                    duration: 1000,\n                    start: function () {\n                        $(block1.view).css({\n                            \"border-color\": \"#000\",\n                            \"background-color\": \"#fff\",\n                        });\n                        $(block2.view).css({\n                            \"border-color\": \"#000\",\n                            \"background-color\": \"#fff\",\n                        });\n                    },\n                    complete: function () {\n                        block1.consumeBlock(block2);\n                        $(block1.view).animate(\n                            {\n                                \"border-color\": \"#d3d3d3\",\n                                \"background-color\": \"#efefef\",\n                            },\n                            {\n                                duration: 1000,\n                                complete: function () {\n                                    $(block1.view).css({\n                                        \"border-color\": \"\",\n                                        \"background-color\": \"\",\n                                    });\n                                },\n                            }\n                        );\n                    },\n                }\n            );\n        }\n    }\n    // Adapt the problem to be easier\n    //  * remove a distractor until none are present\n    //  * combine blocks until 3 are left\n    makeEasier() {\n        var distractorToRemove = this.distractorToRemove();\n        if (\n            distractorToRemove !== undefined &&\n            !distractorToRemove.inSourceArea()\n        ) {\n            alert($.i18n(\"msg_parson_remove_incorrect\"));\n            this.removeDistractor(distractorToRemove);\n            this.logMove(\"removedDistractor-\" + distractorToRemove.hash());\n        } else {\n            var numberOfBlocks = this.numberOfBlocks(false);\n            if (numberOfBlocks > 3) {\n                alert($.i18n(\"msg_parson_will_combine\"));\n                this.combineBlocks();\n                this.logMove(\"combinedBlocks\");\n            } else {\n                /*else if(this.numberOfBlocks(true) > 3 && distractorToRemove !==  undefined) {\n                           alert(\"Will remove an incorrect code block from source area\");\n                           this.removeDistractor(distractorToRemove);\n                           this.logMove(\"removedDistractor-\" + distractorToRemove.hash());\n                       } */\n                alert($.i18n(\"msg_parson_three_blocks_left\"));\n                this.canHelp = false;\n            }\n            //if (numberOfBlocks < 5) {\n            //\tthis.canHelp = false;\n            //\tthis.helpButton.disabled = true;\n            //}\n        }\n    }\n    // The \"Help Me\" button was pressed and the problem should be simplified\n    helpMe() {\n        this.clearFeedback();\n        //this.helpCount = -1; // amount to allow for multiple helps in a row\n        //if (this.helpCount < 0) {\n        //\tthis.helpCount = Math.max(this.helpCount, -1); // min 1 attempt before more help\n        //this.helpButton.disabled = true;\n        //}\n        // if less than 3 attempts\n        if (this.numDistinct < 3) {\n            alert($.i18n(\"msg_parson_atleast_three_attempts\"));\n        }\n        // otherwise give help\n        else {\n            this.gotHelp = true;\n            this.makeEasier();\n        }\n    }\n    /* =====================================================================\n    ==== UTILITY ===========================================================\n    ===================================================================== */\n    // Return a date from a timestamp (either mySQL or JS format)\n    dateFromTimestamp(timestamp) {\n        var date = new Date(timestamp);\n        if (isNaN(date.getTime())) {\n            var t = timestamp.split(/[- :]/);\n            date = new Date(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\n        }\n        return date;\n    }\n    // A function for returning a shuffled version of an array\n    shuffled(array) {\n        var currentIndex = array.length;\n        var returnArray = array.slice();\n        var temporaryValue, randomIndex;\n        // While there remain elements to shuffle...\n        while (0 !== currentIndex) {\n            // Pick a remaining element...\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n            // And swap it with the current element.\n            temporaryValue = returnArray[currentIndex];\n            returnArray[currentIndex] = returnArray[randomIndex];\n            returnArray[randomIndex] = temporaryValue;\n        }\n        return returnArray;\n    }\n    /* =====================================================================\n    ==== KEYBOARD INTERACTION ==============================================\n    ===================================================================== */\n    // When the user has entered the Parsons problem via keyboard mode\n    enterKeyboardMode() {\n        $(this.keyboardTip).show();\n        $(this.sourceLabel).hide();\n        $(this.answerLabel).hide();\n        this.clearFeedback();\n    }\n    // When the user leaves the Parsons problem via keyboard mode\n    exitKeyboardMode() {\n        $(this.keyboardTip).hide();\n        $(this.sourceLabel).show();\n        $(this.answerLabel).show();\n    }\n    /* =====================================================================\n    ==== VIEW ==============================================================\n    ===================================================================== */\n    // Clear any feedback from the answer area\n    clearFeedback() {\n        $(this.answerArea).removeClass(\"incorrect correct\");\n        var children = this.answerArea.childNodes;\n        for (var i = 0; i < children.length; i++) {\n            $(children[i]).removeClass(\n                \"correctPosition incorrectPosition indentLeft indentRight\"\n            );\n        }\n        this.messageDiv.style.visibility = \"hidden\";\n    }\n    // Disable the interface\n    async disableInteraction() {\n        // Disable blocks\n        await this.checkServerComplete;\n        console.log(\"disabling blocks\");\n        if (this.blocks !== undefined) {\n            for (var i = 0; i < this.blocks.length; i++) {\n                var block = this.blocks[i];\n                block.disable();\n            }\n        }\n        // Hide buttons\n        $(this.checkButton).hide();\n        $(this.resetButton).hide();\n    }\n    // Based on the moving element, etc., establish the moving state\n    //   rest: not moving\n    //   source: moving inside source area\n    //   answer: moving inside answer area\n    //   moving: moving outside areas\n    movingState() {\n        if (this.moving == undefined) {\n            return \"rest\";\n        }\n        var x = this.movingX - window.pageXOffset;\n        var y = this.movingY - window.pageYOffset;\n        // Check if in answer area\n        var bounds = this.answerArea.getBoundingClientRect();\n        if (\n            x >= bounds.left &&\n            x <= bounds.right &&\n            y >= bounds.top &&\n            y <= bounds.bottom\n        ) {\n            return \"answer\";\n        }\n        // Check if in source area\n        bounds = this.sourceArea.getBoundingClientRect();\n        if (\n            x >= bounds.left &&\n            x <= bounds.right &&\n            y >= bounds.top &&\n            y <= bounds.bottom\n        ) {\n            return \"source\";\n        }\n        return \"moving\";\n    }\n    // Update the Parsons view\n    // This gets called when dragging a block\n    updateView() {\n        // Based on the new and the old state, figure out what to update\n        var state = this.state;\n        var newState = this.movingState();\n        var updateSource = true;\n        var updateAnswer = true;\n        var updateMoving = newState == \"moving\";\n        if (state == newState) {\n            if (newState == \"rest\") {\n                updateSource = false;\n                updateAnswer = false;\n            } else if (newState == \"source\") {\n                updateAnswer = false;\n            } else if (newState == \"answer\") {\n                updateSource = false;\n            } else if (newState == \"moving\") {\n                updateAnswer = false;\n                updateSource = false;\n            }\n        }\n        var movingHeight;\n        if (this.moving !== undefined) {\n            // Must get height here as detached items don't have height\n            movingHeight = $(this.moving.view).outerHeight(true);\n            $(this.moving.view).detach();\n        }\n        var positionTop, width;\n        var baseWidth = this.areaWidth - 22;\n        // Update the Source Area\n        if (updateSource) {\n            positionTop = 0;\n            var blocks = this.sourceBlocks();\n            if (newState == \"source\") {\n                var hasInserted = false;\n                var movingBin = this.moving.pairedBin();\n                var binForBlock = [];\n                for (i = 0; i < blocks.length; i++) {\n                    binForBlock.push(blocks[i].pairedBin());\n                }\n                if (!binForBlock.includes(movingBin)) {\n                    movingBin = -1;\n                }\n                var insertPositions = [];\n                if (binForBlock.length == 0) {\n                    insertPositions.push(0);\n                } else {\n                    if (movingBin == -1) {\n                        insertPositions.push(0);\n                    } else if (binForBlock[0] == movingBin) {\n                        insertPositions.push(0);\n                    }\n                    for (i = 1; i < blocks.length; i++) {\n                        if (binForBlock[i - 1] == movingBin) {\n                            insertPositions.push(i);\n                        } else if (binForBlock[i] == movingBin) {\n                            insertPositions.push(i);\n                        } else if (\n                            movingBin == -1 &&\n                            binForBlock[i - 1] != binForBlock[i]\n                        ) {\n                            insertPositions.push(i);\n                        }\n                    }\n                    if (movingBin == -1) {\n                        insertPositions.push(binForBlock.length);\n                    } else if (\n                        binForBlock[binForBlock.length - 1] == movingBin\n                    ) {\n                        insertPositions.push(binForBlock.length);\n                    }\n                }\n                var x =\n                    this.movingX -\n                    this.sourceArea.getBoundingClientRect().left -\n                    window.pageXOffset -\n                    baseWidth / 2 -\n                    11;\n                var y =\n                    this.movingY -\n                    this.sourceArea.getBoundingClientRect().top -\n                    window.pageYOffset;\n                for (i = 0; i < blocks.length; i++) {\n                    var item = blocks[i];\n                    var j;\n                    if (!hasInserted && insertPositions.includes(i)) {\n                        var testHeight = $(item.view).outerHeight(true);\n                        for (j = i + 1; j < blocks.length; j++) {\n                            if (insertPositions.includes(j)) {\n                                break;\n                            }\n                            testHeight += $(blocks[j].view).outerHeight(true);\n                        }\n                        if (\n                            y - positionTop < movingHeight + testHeight / 2 ||\n                            i == insertPositions[insertPositions.length - 1]\n                        ) {\n                            hasInserted = true;\n                            this.sourceArea.insertBefore(\n                                this.moving.view,\n                                item.view\n                            );\n                            $(this.moving.view).css({\n                                left: x,\n                                top: y - movingHeight / 2,\n                                width: baseWidth,\n                                \"z-index\": 3,\n                            });\n                            positionTop = positionTop + movingHeight;\n                        }\n                    }\n                    $(item.view).css({\n                        left: 0,\n                        top: positionTop,\n                        width: baseWidth,\n                        \"z-index\": 2,\n                    });\n                    positionTop = positionTop + $(item.view).outerHeight(true);\n                }\n                if (!hasInserted) {\n                    $(this.moving.view).appendTo(\n                        \"#\" + this.counterId + \"-source\"\n                    );\n                    $(this.moving.view).css({\n                        left: x,\n                        top: y - $(this.moving.view).outerHeight(true) / 2,\n                        width: baseWidth,\n                        \"z-index\": 3,\n                    });\n                }\n            } else {\n                for (var i = 0; i < blocks.length; i++) {\n                    item = blocks[i];\n                    $(item.view).css({\n                        left: 0,\n                        top: positionTop,\n                        width: baseWidth,\n                        \"z-index\": 2,\n                    });\n                    positionTop = positionTop + $(item.view).outerHeight(true);\n                }\n            }\n            // Update the Paired Distractor Indicators\n            for (i = 0; i < this.pairedBins.length; i++) {\n                var bin = this.pairedBins[i];\n                var matching = [];\n                for (j = 0; j < blocks.length; j++) {\n                    block = blocks[j];\n                    if (block.matchesBin(bin)) {\n                        matching.push(block);\n                    }\n                }\n                var div = this.pairedDivs[i];\n                if (matching.length == 0) {\n                    $(div).hide();\n                } else {\n                    $(div).show();\n                    var height = -5;\n                    height += parseInt(\n                        $(matching[matching.length - 1].view).css(\"top\")\n                    );\n                    height -= parseInt($(matching[0].view).css(\"top\"));\n                    height += $(matching[matching.length - 1].view).outerHeight(\n                        true\n                    );\n                    $(div).css({\n                        left: -6,\n                        top: $(matching[0].view).css(\"top\"),\n                        width: baseWidth + 34,\n                        height: height,\n                        \"z-index\": 1,\n                        \"text-indent\": -30,\n                        \"padding-top\": (height - 70) / 2,\n                        overflow: \"visible\",\n                        \"font-size\": 43,\n                        \"vertical-align\": \"middle\",\n                        color: \"#7e7ee7\",\n                    });\n                    $(div).html(\n                        \"<span id= 'st' style = 'vertical-align: middle; font-weight: bold; font-size: 15px'>or</span>{\"\n                    );\n                }\n                if (matching.length == 1) {\n                    $(div).html(\"\");\n                }\n            }\n        }\n        // Update the Answer Area\n        if (updateAnswer) {\n            var block, indent;\n            positionTop = 0;\n            width =\n                this.areaWidth +\n                this.indent * this.options.pixelsPerIndent -\n                22;\n            var blocks = this.answerBlocks();\n            if (newState == \"answer\") {\n                var hasInserted = false;\n                var x =\n                    this.movingX -\n                    this.answerArea.getBoundingClientRect().left -\n                    window.pageXOffset -\n                    baseWidth / 2 -\n                    11;\n                var movingIndent = Math.round(x / this.options.pixelsPerIndent);\n                if (movingIndent < 0) {\n                    movingIndent = 0;\n                } else if (movingIndent > this.indent) {\n                    movingIndent = this.indent;\n                } else {\n                    x = movingIndent * this.options.pixelsPerIndent;\n                }\n                var y =\n                    this.movingY -\n                    this.answerArea.getBoundingClientRect().top -\n                    window.pageYOffset;\n                this.moving.indent = movingIndent;\n                for (i = 0; i < blocks.length; i++) {\n                    block = blocks[i];\n                    if (!hasInserted) {\n                        if (\n                            y - positionTop <\n                            (movingHeight + $(block.view).outerHeight(true)) / 2\n                        ) {\n                            hasInserted = true;\n                            this.answerArea.insertBefore(\n                                this.moving.view,\n                                block.view\n                            );\n                            $(this.moving.view).css({\n                                left: x,\n                                top: y - movingHeight / 2,\n                                width: baseWidth,\n                                \"z-index\": 3,\n                            });\n                            positionTop = positionTop + movingHeight;\n                        }\n                    }\n                    indent = block.indent * this.options.pixelsPerIndent;\n                    $(block.view).css({\n                        left: indent,\n                        top: positionTop,\n                        width: width - indent,\n                        \"z-index\": 2,\n                    });\n                    positionTop = positionTop + $(block.view).outerHeight(true);\n                }\n                if (!hasInserted) {\n                    $(this.moving.view).appendTo(\n                        \"#\" + this.counterId + \"-answer\"\n                    );\n                    $(this.moving.view).css({\n                        left: x,\n                        top: y - $(this.moving.view).outerHeight(true) / 2,\n                        width: baseWidth,\n                        \"z-index\": 3,\n                    });\n                }\n            } else {\n                for (let i = 0; i < blocks.length; i++) {\n                    block = blocks[i];\n                    indent = block.indent * this.options.pixelsPerIndent;\n                    $(block.view).css({\n                        left: indent,\n                        top: positionTop,\n                        width: width - indent,\n                        \"z-index\": 2,\n                    });\n                    positionTop = positionTop + $(block.view).outerHeight(true);\n                }\n            }\n        }\n        // Update the Moving Area\n        if (updateMoving) {\n            // Add it to the lowest place in the source area\n            movingBin = this.moving.pairedBin();\n            if (movingBin == -1) {\n                $(this.moving.view).appendTo(\"#\" + this.counterId + \"-source\");\n            } else {\n                var before;\n                blocks = this.sourceBlocks;\n                for (i = 0; i < blocks.length; i++) {\n                    block = blocks[i];\n                    if (block.pairedBin() == movingBin) {\n                        before = i + 1;\n                    }\n                }\n                if (before == undefined || before == blocks.length) {\n                    $(this.moving.view).appendTo(\n                        \"#\" + this.counterId + \"-source\"\n                    );\n                } else {\n                    this.sourceArea.insertBefore(\n                        this.moving.view,\n                        blocks[before].view\n                    );\n                }\n            }\n            // Place in the middle of the mouse cursor\n            $(this.moving.view).css({\n                left:\n                    this.movingX -\n                    this.sourceArea.getBoundingClientRect().left -\n                    window.pageXOffset -\n                    $(this.moving.view).outerWidth(true) / 2,\n                top:\n                    this.movingY -\n                    this.sourceArea.getBoundingClientRect().top -\n                    window.pageYOffset -\n                    movingHeight / 2,\n                width: baseWidth,\n                \"z-index\": 3,\n            });\n        }\n        state = newState;\n        this.state = state;\n    }\n    addBlockLabels(blocks) {\n        var bin = -1;\n        var binCount = 0;\n        var binChildren = 0;\n        var blocksNotInBins = 0;\n        for (let i = 0; i < blocks.length; i++) {\n            if (blocks[i].pairedBin() == -1) {\n                blocksNotInBins++;\n            }\n        }\n        for (let i = 0; i < blocks.length; i++) {\n            var currentBin = blocks[i].pairedBin();\n            if (currentBin == -1 || currentBin != bin) {\n                bin = currentBin;\n                binChildren = 0;\n                binCount++;\n            }\n            var label =\n                \"\" +\n                binCount +\n                (currentBin != -1\n                    ? String.fromCharCode(97 + binChildren)\n                    : \" \");\n            if (\n                binCount < 10 &&\n                blocksNotInBins + this.pairedBins.length >= 10\n            ) {\n                label += \" \";\n            }\n            blocks[i].addLabel(label, 0);\n            binChildren++;\n        }\n        if (blocksNotInBins + this.pairedBins.length >= 10) {\n            this.areaWidth += 5;\n            $(this.sourceArea).css({\n                width: $(this.sourceArea).width() + 5,\n            });\n            $(this.answerArea).css({\n                width: $(this.answerArea).width() + 5,\n            });\n        }\n    }\n    // Put all the blocks back into the source area, reshuffling as necessary\n    resetView() {\n        // Clear everything\n        this.clearFeedback();\n        // CodeTailor: Hide the Copy Answer Button again\n        if (this.options.scaffolding === true) {\n            const copyBtn = document.querySelector(`#copy-answer-button-${this.divid}`); // copy-answer-button-${puzzleScaffoldingDivid}\n            if (copyBtn) {\n                copyBtn.classList.add('copy-button-hide');\n            }\n        }\n        var scrollTop = document.body.scrollTop;\n        var block;\n        for (let i = 0; i < this.blocks.length; i++) {\n            block = this.blocks[i];\n            for (var j = 0; j < block.lines.length; j++) {\n                var children = $(block.lines[j].view).find(\".block-label\");\n                for (var c = 0; c < children.length; c++) {\n                    children[c].remove();\n                }\n            }\n            block.destroy();\n            $(this.blocks[i].view).detach();\n        }\n        delete this.blocks;\n        this.blockIndex = 0;\n        if (this.pairedDivs) {\n            for (let i = 0; i < this.pairedDivs.length; i++) {\n                $(this.pairedDivs[i]).detach();\n            }\n        }\n        $(this.sourceArea).attr(\"style\", \"\");\n        $(this.answerArea).removeClass();\n        $(this.answerArea).attr(\"style\", \"\");\n        this.noindent = this.options.noindent;\n        // Reinitialize\n        if (this.hasSolved) {\n            this.checkCount = 0;\n            this.numDistinct = 0;\n            this.hasSolved = false;\n            if (this.options.adaptive) {\n                this.canHelp = true;\n            }\n            //this.helpCount = -3; // enable after 3 failed attempts\n            //this.helpButton.disabled = true;\n            localStorage.setItem(this.adaptiveId + \"Problem\", this.divid);\n            localStorage.setItem(\n                this.adaptiveId + this.divid + \"Count\",\n                this.checkCount\n            );\n            localStorage.setItem(this.adaptiveId + \"Solved\", false);\n        }\n        if (this.options.scaffolding === true) {\n            // CodeTailor: initialize the pre-placed Parsons blocks including the settled blocks, if any.\n            this.initializeAreas(this.blocksFromSource(), this.settledBlocksFromSource(), {});\n        } else {\n            this.initializeAreas(this.blocksFromSource(), [], {});\n        }\n        this.initializeInteractivity();\n        document.body.scrollTop = scrollTop;\n        if (this.runnableDiv) {\n            // hide the rendered runnable - will get reused as is if rerevealed\n            this.runnableDiv.style.display = 'none';\n        }\n    }\n}\n\nParsons.counter = 0;\n\n$(document).on(\"runestone:login-complete\", function () {\n    $(\"[data-component=parsons]\").each(function (index) {\n        if ($(this).closest(\"[data-component=timedAssessment]\").length == 0) {\n            try {\n                window.componentMap[this.id] = new Parsons({\n                    orig: this,\n                    useRunestoneServices: eBookConfig.useRunestoneServices,\n                });\n            } catch (err) {\n                console.log(`Error rendering Parsons Problem ${this.id}\n                             Details: ${err}`);\n                console.log(err.stack);\n            }\n        }\n    });\n});\n","import Parsons from \"./parsons\";\n\nexport default class TimedParsons extends Parsons {\n    constructor(opts) {\n        super(opts);\n        // todo -- make this configurable\n        if (opts.timedfeedback) {\n            this.showfeedback = true;\n        } else {\n            this.showfeedback = false;\n        }\n        this.grader.showfeedback = this.showfeedback;\n        this.hideFeedback();\n        $(this.checkButton).hide();\n        $(this.helpButton).hide();\n        $(this.resetButton).hide();\n    }\n    checkCorrectTimed() {\n        return this.correct ? \"T\" : \"F\";\n    }\n    hideFeedback() {\n        $(this.messageDiv).hide();\n    }\n}\n\nif (typeof window.component_factory === \"undefined\") {\n    window.component_factory = {};\n}\nwindow.component_factory[\"parsons\"] = function (opts) {\n    if (opts.timed) {\n        return new TimedParsons(opts);\n    }\n    return new Parsons(opts);\n};\n","$.i18n().load({\n    \"pt-br\": {\n        msg_parson_check_me: \"Verificar\",\n        msg_parson_reset: \"Resetar\",\n        msg_parson_help:\"Ajuda\",\n        msg_parson_too_short: \"Seu programa  muito curto. Adicione mais blocos.\",\n        msg_parson_drag_from_here: \"Arraste daqui\",\n        msg_parson_drag_to_here: \"Largue os blocos aqui\",\n        msg_parson_correct_first_try:\n            \"Perfeito! Voc levou apenas uma tentativa para resolver. Bom trabalho!\",\n        msg_parson_correct:\n            \"Perfeito! Voc levou $1 tentativas para resolver. Clique em Resetar para tentar resolver em uma tentativa.\" ,\n        msg_parson_wrong_indent:\n            \"Este bloco no est indentado corretamente. Indente mais arrastando-o para a direita ou reduza a indentao arrastando para a esquerda.\",\n        msg_parson_wrong_indents:\n            \"Estes blocos no esto indentados corretamente. Para indentar mais, arraste o bloco para a direita. Para reduzir a indentao, arraste para a esquerda.\",\n        msg_parson_wrong_order:\n            \"Blocos destacados no seu programa esto errados ou esto na ordem errada. Isso pode ser resolvido movendo, excluindo ou substituindo os blocos destacados.\",\n        msg_parson_arrow_navigate:\n            \"Use as teclas de setas para navegar. Espao para selecionar/ desmarcar blocos para mover.\",\n        msg_parson_help_info:\n            \"Clique no boto Ajuda se voc quiser facilitar o problema\",\n        msg_parson_not_solution:\n            \"Foi desabilitado um bloco de cdigo desnecessrio (que no faz parte da soluo).\",\n        msg_parson_provided_indent:\"Foi fornecida a indentao.\",\n        msg_parson_combined_blocks:\"Dois blocos de cdigos foram combinados em um.\",\n        msg_parson_remove_incorrect:\n            \"Ser removido um bloco de cdigo incorreto da rea de resposta\",\n        msg_parson_will_combine:\"Sero combinados dois blocos\",\n        msg_parson_atleast_three_attempts:\n            \"Voc deve tentar pelo menos trs vezes antes de pedir ajuda\",\n        msg_parson_three_blocks_left:\n            \"Restam apenas 3 blocos corretos. Voc deve coloc-los em ordem\",\n        msg_parson_will_provide_indent: \"Ser fornecida a indentao\"\n    },\n});\n","$.i18n().load({\n    en: {\n        msg_parson_check_me: \"Check\",\n        msg_parson_reset: \"Reset\",\n        msg_parson_help: \"Help me\",\n        msg_parson_too_short: \"Your answer is too short. Add more blocks.\",\n        msg_parson_drag_from_here: \"Drag from here\",\n        msg_parson_drag_to_here: \"Drop blocks here\",\n        msg_parson_correct_first_try:\n            \"Perfect!  It took you only one try to solve this.  Great job!\",\n        msg_parson_correct:\n            \"Perfect!  It took you $1 tries to solve this.  Click Reset to try to solve it in one attempt.\",\n        msg_parson_correct_runnable:\n            \"Click Run below to test out your solution.\",\n        msg_parson_wrong_indent:\n            \"This block is not indented correctly. Either indent it more by dragging it right or reduce the indention by dragging it left.\",\n        msg_parson_wrong_indents:\n            \"These blocks are not indented correctly. To indent a block more, drag it to the right. To reduce the indention, drag it to the left.\",\n        msg_parson_wrong_order:\n            \"Highlighted blocks in your answer are wrong or are in the wrong order. This can be fixed by moving, removing, or replacing highlighted blocks.\",\n        msg_parson_arrow_navigate:\n            \"Arrow keys to navigate. Space to select / deselect block to move.\",\n        msg_parson_help_info:\n            \"Click on the Help Me button if you want to make the problem easier\",\n        msg_parson_not_solution:\n            \"Disabled an unneeded code block (one that is not part of the solution).\",\n        msg_parson_provided_indent: \"Provided the indentation.\",\n        msg_parson_combined_blocks: \"Combined two code blocks into one.\",\n        msg_parson_remove_incorrect:\n            \"Will remove an incorrect code block from answer area\",\n        msg_parson_will_combine: \"Will combine two blocks\",\n        msg_parson_atleast_three_attempts:\n            \"You must make at least three distinct full attempts at a solution before you can get help\",\n        msg_parson_three_blocks_left:\n            \"There are only 3 correct blocks left.  You should be able to put them in order\",\n        msg_parson_will_provide_indent: \"Will provide indentation\",\n    },\n});\n","// TODO - How much of this is needed? Lots of overlap with what syntax highlighting\n// via pretext theme does...\n\nfunction H() {\n    var x =\n        navigator &&\n        navigator.userAgent &&\n        /\\bMSIE 6\\./.test(navigator.userAgent);\n    H = function() {\n        return x;\n    };\n    return x;\n}\n(function() {\n    function x(b) {\n        b = b.split(/ /g);\n        var a = {};\n        for (var c = b.length; --c >= 0; ) {\n            var d = b[c];\n            if (d) a[d] = null;\n        }\n        return a;\n    }\n    var y = \"break continue do else for if return while \",\n        U =\n            y +\n            \"auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile \",\n        D =\n            U +\n            \"catch class delete false import new operator private protected public this throw true try \",\n        I =\n            D +\n            \"alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename typeof using virtual wchar_t where \",\n        J =\n            D +\n            \"boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient \",\n        V =\n            J +\n            \"as base by checked decimal delegate descending event fixed foreach from group implicit in interface internal into is lock object out override orderby params readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var \",\n        K =\n            D +\n            \"debugger eval export function get null set undefined var with Infinity NaN \",\n        L =\n            \"caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END \",\n        M =\n            y +\n            \"and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None \",\n        N =\n            y +\n            \"alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END \",\n        O = y + \"case done elif esac eval fi function in local set then until \",\n        W = I + V + K + L + M + N + O;\n    function X(b) {\n        return (b >= \"a\" && b <= \"z\") || (b >= \"A\" && b <= \"Z\");\n    }\n    function u(b, a, c, d) {\n        b.unshift(c, d || 0);\n        try {\n            a.splice.apply(a, b);\n        } finally {\n            b.splice(0, 2);\n        }\n    }\n    var Y = (function() {\n            var b = [\n                    \"!\",\n                    \"!=\",\n                    \"!==\",\n                    \"#\",\n                    \"%\",\n                    \"%=\",\n                    \"&\",\n                    \"&&\",\n                    \"&&=\",\n                    \"&=\",\n                    \"(\",\n                    \"*\",\n                    \"*=\",\n                    \"+=\",\n                    \",\",\n                    \"-=\",\n                    \"->\",\n                    \"/\",\n                    \"/=\",\n                    \":\",\n                    \"::\",\n                    \";\",\n                    \"<\",\n                    \"<<\",\n                    \"<<=\",\n                    \"<=\",\n                    \"=\",\n                    \"==\",\n                    \"===\",\n                    \">\",\n                    \">=\",\n                    \">>\",\n                    \">>=\",\n                    \">>>\",\n                    \">>>=\",\n                    \"?\",\n                    \"@\",\n                    \"[\",\n                    \"^\",\n                    \"^=\",\n                    \"^^\",\n                    \"^^=\",\n                    \"{\",\n                    \"|\",\n                    \"|=\",\n                    \"||\",\n                    \"||=\",\n                    \"~\",\n                    \"break\",\n                    \"case\",\n                    \"continue\",\n                    \"delete\",\n                    \"do\",\n                    \"else\",\n                    \"finally\",\n                    \"instanceof\",\n                    \"return\",\n                    \"throw\",\n                    \"try\",\n                    \"typeof\"\n                ],\n                a =\n                    \"(?:(?:(?:^|[^0-9.])\\\\.{1,3})|(?:(?:^|[^\\\\+])\\\\+)|(?:(?:^|[^\\\\-])-)\";\n            for (var c = 0; c < b.length; ++c) {\n                var d = b[c];\n                a += X(d.charAt(0))\n                    ? \"|\\\\b\" + d\n                    : \"|\" + d.replace(/([^=<>:&])/g, \"\\\\$1\");\n            }\n            a += \"|^)\\\\s*$\";\n            return new RegExp(a);\n        })(),\n        P = /&/g,\n        Q = /</g,\n        R = />/g,\n        Z = /\\\"/g;\n    function $(b) {\n        return b\n            .replace(P, \"&amp;\")\n            .replace(Q, \"&lt;\")\n            .replace(R, \"&gt;\")\n            .replace(Z, \"&quot;\");\n    }\n    function E(b) {\n        return b\n            .replace(P, \"&amp;\")\n            .replace(Q, \"&lt;\")\n            .replace(R, \"&gt;\");\n    }\n    var aa = /&lt;/g,\n        ba = /&gt;/g,\n        ca = /&apos;/g,\n        da = /&quot;/g,\n        ea = /&amp;/g,\n        fa = /&nbsp;/g;\n    function ga(b) {\n        var a = b.indexOf(\"&\");\n        if (a < 0) return b;\n        for (--a; (a = b.indexOf(\"&#\", a + 1)) >= 0; ) {\n            var c = b.indexOf(\";\", a);\n            if (c >= 0) {\n                var d = b.substring(a + 3, c),\n                    g = 10;\n                if (d && d.charAt(0) === \"x\") {\n                    d = d.substring(1);\n                    g = 16;\n                }\n                var e = parseInt(d, g);\n                if (!isNaN(e))\n                    b =\n                        b.substring(0, a) +\n                        String.fromCharCode(e) +\n                        b.substring(c + 1);\n            }\n        }\n        return b\n            .replace(aa, \"<\")\n            .replace(ba, \">\")\n            .replace(ca, \"'\")\n            .replace(da, '\"')\n            .replace(ea, \"&\")\n            .replace(fa, \" \");\n    }\n    function S(b) {\n        return \"XMP\" === b.tagName;\n    }\n    function z(b, a) {\n        switch (b.nodeType) {\n            case 1:\n                var c = b.tagName.toLowerCase();\n                a.push(\"<\", c);\n                for (var d = 0; d < b.attributes.length; ++d) {\n                    var g = b.attributes[d];\n                    if (!g.specified) continue;\n                    a.push(\" \");\n                    z(g, a);\n                }\n                a.push(\">\");\n                for (var e = b.firstChild; e; e = e.nextSibling) z(e, a);\n                if (b.firstChild || !/^(?:br|link|img)$/.test(c))\n                    a.push(\"</\", c, \">\");\n                break;\n            case 2:\n                a.push(b.name.toLowerCase(), '=\"', $(b.value), '\"');\n                break;\n            case 3:\n            case 4:\n                a.push(E(b.nodeValue));\n                break;\n        }\n    }\n    var F = null;\n    function ha(b) {\n        if (null === F) {\n            var a = document.createElement(\"PRE\");\n            a.appendChild(\n                document.createTextNode(\n                    '<!DOCTYPE foo PUBLIC \"foo bar\">\\n<foo />'\n                )\n            );\n            F = !/</.test(a.innerHTML);\n        }\n        if (F) {\n            var c = b.innerHTML;\n            if (S(b)) c = E(c);\n            return c;\n        }\n        var d = [];\n        for (var g = b.firstChild; g; g = g.nextSibling) z(g, d);\n        return d.join(\"\");\n    }\n    function ia(b) {\n        var a = 0;\n        return function(c) {\n            var d = null,\n                g = 0;\n            for (var e = 0, h = c.length; e < h; ++e) {\n                var f = c.charAt(e);\n                switch (f) {\n                    case \"\\t\":\n                        if (!d) d = [];\n                        d.push(c.substring(g, e));\n                        var i = b - (a % b);\n                        a += i;\n                        for (; i >= 0; i -= \"                \".length)\n                            d.push(\"                \".substring(0, i));\n                        g = e + 1;\n                        break;\n                    case \"\\n\":\n                        a = 0;\n                        break;\n                    default:\n                        ++a;\n                }\n            }\n            if (!d) return c;\n            d.push(c.substring(g));\n            return d.join(\"\");\n        };\n    }\n    var ja = /(?:[^<]+|<!--[\\s\\S]*?--\\>|<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>|<\\/?[a-zA-Z][^>]*>|<)/g,\n        ka = /^<!--/,\n        la = /^<\\[CDATA\\[/,\n        ma = /^<br\\b/i;\n    function na(b) {\n        var a = b.match(ja),\n            c = [],\n            d = 0,\n            g = [];\n        if (a)\n            for (var e = 0, h = a.length; e < h; ++e) {\n                var f = a[e];\n                if (f.length > 1 && f.charAt(0) === \"<\") {\n                    if (ka.test(f)) continue;\n                    if (la.test(f)) {\n                        c.push(f.substring(9, f.length - 3));\n                        d += f.length - 12;\n                    } else if (ma.test(f)) {\n                        c.push(\"\\n\");\n                        ++d;\n                    } else g.push(d, f);\n                } else {\n                    var i = ga(f);\n                    c.push(i);\n                    d += i.length;\n                }\n            }\n        return {\n            source: c.join(\"\"),\n            tags: g\n        };\n    }\n    function v(b, a) {\n        var c = {};\n        (function() {\n            var g = b.concat(a);\n            for (var e = g.length; --e >= 0; ) {\n                var h = g[e],\n                    f = h[3];\n                if (f) for (var i = f.length; --i >= 0; ) c[f.charAt(i)] = h;\n            }\n        })();\n        var d = a.length;\n        return function(g, e) {\n            e = e || 0;\n            var h = [e, \"pln\"],\n                f = \"\",\n                i = 0,\n                j = g;\n            while (j.length) {\n                var o,\n                    m = null,\n                    k,\n                    l = c[j.charAt(0)];\n                if (l) {\n                    k = j.match(l[1]);\n                    m = k[0];\n                    o = l[0];\n                } else {\n                    for (var n = 0; n < d; ++n) {\n                        l = a[n];\n                        var p = l[2];\n                        if (p && !p.test(f)) continue;\n                        k = j.match(l[1]);\n                        if (k) {\n                            m = k[0];\n                            o = l[0];\n                            break;\n                        }\n                    }\n                    if (!m) {\n                        o = \"pln\";\n                        m = j.substring(0, 1);\n                    }\n                }\n                h.push(e + i, o);\n                i += m.length;\n                j = j.substring(m.length);\n                if (o !== \"com\" && /\\S/.test(m)) f = m;\n            }\n            return h;\n        };\n    }\n    var oa = v(\n        [],\n        [\n            [\"pln\", /^[^<]+/, null],\n            [\"dec\", /^<!\\w[^>]*(?:>|$)/, null],\n            [\"com\", /^<!--[\\s\\S]*?(?:--\\>|$)/, null],\n            [\"src\", /^<\\?[\\s\\S]*?(?:\\?>|$)/, null],\n            [\"src\", /^<%[\\s\\S]*?(?:%>|$)/, null],\n            [\"src\", /^<(script|style|xmp)\\b[^>]*>[\\s\\S]*?<\\/\\1\\b[^>]*>/i, null],\n            [\"tag\", /^<\\/?\\w[^<>]*>/, null]\n        ]\n    );\n    function pa(b) {\n        var a = oa(b);\n        for (var c = 0; c < a.length; c += 2)\n            if (a[c + 1] === \"src\") {\n                var d, g;\n                d = a[c];\n                g = c + 2 < a.length ? a[c + 2] : b.length;\n                var e = b.substring(d, g),\n                    h = e.match(/^(<[^>]*>)([\\s\\S]*)(<\\/[^>]*>)$/);\n                if (h)\n                    a.splice(\n                        c,\n                        2,\n                        d,\n                        \"tag\",\n                        d + h[1].length,\n                        \"src\",\n                        d + h[1].length + (h[2] || \"\").length,\n                        \"tag\"\n                    );\n            }\n        return a;\n    }\n    var qa = v(\n        [\n            [\"atv\", /^\\'[^\\']*(?:\\'|$)/, null, \"'\"],\n            [\"atv\", /^\\\"[^\\\"]*(?:\\\"|$)/, null, '\"'],\n            [\"pun\", /^[<>\\/=]+/, null, \"<>/=\"]\n        ],\n        [\n            [\"tag\", /^[\\w:\\-]+/, /^</],\n            [\"atv\", /^[\\w\\-]+/, /^=/],\n            [\"atn\", /^[\\w:\\-]+/, null],\n            [\"pln\", /^\\s+/, null, \" \\t\\r\\n\"]\n        ]\n    );\n    function ra(b, a) {\n        for (var c = 0; c < a.length; c += 2) {\n            var d = a[c + 1];\n            if (d === \"tag\") {\n                var g, e;\n                g = a[c];\n                e = c + 2 < a.length ? a[c + 2] : b.length;\n                var h = b.substring(g, e),\n                    f = qa(h, g);\n                u(f, a, c, 2);\n                c += f.length - 2;\n            }\n        }\n        return a;\n    }\n    function r(b) {\n        var a = [],\n            c = [];\n        if (b.tripleQuotedStrings)\n            a.push([\n                \"str\",\n                /^(?:\\'\\'\\'(?:[^\\'\\\\]|\\\\[\\s\\S]|\\'{1,2}(?=[^\\']))*(?:\\'\\'\\'|$)|\\\"\\\"\\\"(?:[^\\\"\\\\]|\\\\[\\s\\S]|\\\"{1,2}(?=[^\\\"]))*(?:\\\"\\\"\\\"|$)|\\'(?:[^\\\\\\']|\\\\[\\s\\S])*(?:\\'|$)|\\\"(?:[^\\\\\\\"]|\\\\[\\s\\S])*(?:\\\"|$))/,\n                null,\n                \"'\\\"\"\n            ]);\n        else if (b.multiLineStrings)\n            a.push([\n                \"str\",\n                /^(?:\\'(?:[^\\\\\\']|\\\\[\\s\\S])*(?:\\'|$)|\\\"(?:[^\\\\\\\"]|\\\\[\\s\\S])*(?:\\\"|$)|\\`(?:[^\\\\\\`]|\\\\[\\s\\S])*(?:\\`|$))/,\n                null,\n                \"'\\\"`\"\n            ]);\n        else\n            a.push([\n                \"str\",\n                /^(?:\\'(?:[^\\\\\\'\\r\\n]|\\\\.)*(?:\\'|$)|\\\"(?:[^\\\\\\\"\\r\\n]|\\\\.)*(?:\\\"|$))/,\n                null,\n                \"\\\"'\"\n            ]);\n        c.push([\"pln\", /^(?:[^\\'\\\"\\`\\/\\#]+)/, null, \" \\r\\n\"]);\n        if (b.hashComments) a.push([\"com\", /^#[^\\r\\n]*/, null, \"#\"]);\n        if (b.cStyleComments) c.push([\"com\", /^\\/\\/[^\\r\\n]*/, null]);\n        if (b.regexLiterals)\n            c.push([\n                \"str\",\n                /^\\/(?:[^\\\\\\*\\/\\[]|\\\\[\\s\\S]|\\[(?:[^\\]\\\\]|\\\\.)*(?:\\]|$))+(?:\\/|$)/,\n                Y\n            ]);\n        if (b.cStyleComments) c.push([\"com\", /^\\/\\*[\\s\\S]*?(?:\\*\\/|$)/, null]);\n        var d = x(b.keywords);\n        b = null;\n        var g = v(a, c),\n            e = v(\n                [],\n                [\n                    [\"pln\", /^\\s+/, null, \" \\r\\n\"],\n                    [\"pln\", /^[a-z_$@][a-z_$@0-9]*/i, null],\n                    [\"lit\", /^0x[a-f0-9]+[a-z]/i, null],\n                    [\n                        \"lit\",\n                        /^(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d+)(?:e[+\\-]?\\d+)?[a-z]*/i,\n                        null,\n                        \"123456789\"\n                    ],\n                    [\"pun\", /^[^\\s\\w\\.$@]+/, null]\n                ]\n            );\n        function h(f, i) {\n            for (var j = 0; j < i.length; j += 2) {\n                var o = i[j + 1];\n                if (o === \"pln\") {\n                    var m, k, l, n;\n                    m = i[j];\n                    k = j + 2 < i.length ? i[j + 2] : f.length;\n                    l = f.substring(m, k);\n                    n = e(l, m);\n                    for (var p = 0, t = n.length; p < t; p += 2) {\n                        var w = n[p + 1];\n                        if (w === \"pln\") {\n                            var A = n[p],\n                                B = p + 2 < t ? n[p + 2] : l.length,\n                                s = f.substring(A, B);\n                            if (s === \".\") n[p + 1] = \"pun\";\n                            else if (s in d) n[p + 1] = \"kwd\";\n                            else if (/^@?[A-Z][A-Z$]*[a-z][A-Za-z$]*$/.test(s))\n                                n[p + 1] = s.charAt(0) === \"@\" ? \"lit\" : \"typ\";\n                        }\n                    }\n                    u(n, i, j, 2);\n                    j += n.length - 2;\n                }\n            }\n            return i;\n        }\n        return function(f) {\n            var i = g(f);\n            i = h(f, i);\n            return i;\n        };\n    }\n    var G = r({\n        keywords: W,\n        hashComments: true,\n        cStyleComments: true,\n        multiLineStrings: true,\n        regexLiterals: true\n    });\n    function sa(b, a) {\n        for (var c = 0; c < a.length; c += 2) {\n            var d = a[c + 1];\n            if (d === \"src\") {\n                var g, e;\n                g = a[c];\n                e = c + 2 < a.length ? a[c + 2] : b.length;\n                var h = G(b.substring(g, e));\n                for (var f = 0, i = h.length; f < i; f += 2) h[f] += g;\n                u(h, a, c, 2);\n                c += h.length - 2;\n            }\n        }\n        return a;\n    }\n    function ta(b, a) {\n        var c = false;\n        for (var d = 0; d < a.length; d += 2) {\n            var g = a[d + 1],\n                e,\n                h;\n            if (g === \"atn\") {\n                e = a[d];\n                h = d + 2 < a.length ? a[d + 2] : b.length;\n                c = /^on|^style$/i.test(b.substring(e, h));\n            } else if (g === \"atv\") {\n                if (c) {\n                    e = a[d];\n                    h = d + 2 < a.length ? a[d + 2] : b.length;\n                    var f = b.substring(e, h),\n                        i = f.length,\n                        j =\n                            i >= 2 &&\n                            /^[\\\"\\']/.test(f) &&\n                            f.charAt(0) === f.charAt(i - 1),\n                        o,\n                        m,\n                        k;\n                    if (j) {\n                        m = e + 1;\n                        k = h - 1;\n                        o = f;\n                    } else {\n                        m = e + 1;\n                        k = h - 1;\n                        o = f.substring(1, f.length - 1);\n                    }\n                    var l = G(o);\n                    for (var n = 0, p = l.length; n < p; n += 2) l[n] += m;\n                    if (j) {\n                        l.push(k, \"atv\");\n                        u(l, a, d + 2, 0);\n                    } else u(l, a, d, 2);\n                }\n                c = false;\n            }\n        }\n        return a;\n    }\n    function ua(b) {\n        var a = pa(b);\n        a = ra(b, a);\n        a = sa(b, a);\n        a = ta(b, a);\n        return a;\n    }\n    function va(b, a, c) {\n        var d = [],\n            g = 0,\n            e = null,\n            h = null,\n            f = 0,\n            i = 0,\n            j = ia(8);\n        function o(k) {\n            if (k > g) {\n                if (e && e !== h) {\n                    d.push(\"</span>\");\n                    e = null;\n                }\n                if (!e && h) {\n                    e = h;\n                    d.push('<span class=\"', e, '\">');\n                }\n                var l = E(j(b.substring(g, k)))\n                    .replace(/(\\r\\n?|\\n| ) /g, \"$1&nbsp;\")\n                    .replace(/\\r\\n?|\\n/g, \"<br />\");\n                d.push(l);\n                g = k;\n            }\n        }\n        while (true) {\n            var m;\n            m = f < a.length ? (i < c.length ? a[f] <= c[i] : true) : false;\n            if (m) {\n                o(a[f]);\n                if (e) {\n                    d.push(\"</span>\");\n                    e = null;\n                }\n                d.push(a[f + 1]);\n                f += 2;\n            } else if (i < c.length) {\n                o(c[i]);\n                h = c[i + 1];\n                i += 2;\n            } else break;\n        }\n        o(b.length);\n        if (e) d.push(\"</span>\");\n        return d.join(\"\");\n    }\n    var C = {};\n    function q(b, a) {\n        for (var c = a.length; --c >= 0; ) {\n            var d = a[c];\n            if (!C.hasOwnProperty(d)) C[d] = b;\n            else if (\"console\" in window)\n                console.log(\"cannot override language handler %s\", d);\n        }\n    }\n    q(G, [\"default-code\"]);\n    q(ua, [\"default-markup\", \"html\", \"htm\", \"xhtml\", \"xml\", \"xsl\"]);\n    q(\n        r({\n            keywords: I,\n            hashComments: true,\n            cStyleComments: true\n        }),\n        [\"c\", \"cc\", \"cpp\", \"cs\", \"cxx\", \"cyc\"]\n    );\n    q(\n        r({\n            keywords: J,\n            cStyleComments: true\n        }),\n        [\"java\"]\n    );\n    q(\n        r({\n            keywords: O,\n            hashComments: true,\n            multiLineStrings: true\n        }),\n        [\"bsh\", \"csh\", \"sh\"]\n    );\n    q(\n        r({\n            keywords: M,\n            hashComments: true,\n            multiLineStrings: true,\n            tripleQuotedStrings: true\n        }),\n        [\"cv\", \"py\"]\n    );\n    q(\n        r({\n            keywords: L,\n            hashComments: true,\n            multiLineStrings: true,\n            regexLiterals: true\n        }),\n        [\"perl\", \"pl\", \"pm\"]\n    );\n    q(\n        r({\n            keywords: N,\n            hashComments: true,\n            multiLineStrings: true,\n            regexLiterals: true\n        }),\n        [\"rb\"]\n    );\n    q(\n        r({\n            keywords: K,\n            cStyleComments: true,\n            regexLiterals: true\n        }),\n        [\"js\"]\n    );\n    function T(b, a) {\n        try {\n            var c = na(b),\n                d = c.source,\n                g = c.tags;\n            if (!C.hasOwnProperty(a))\n                a = /^\\s*</.test(d) ? \"default-markup\" : \"default-code\";\n            var e = C[a].call({}, d);\n            return va(d, g, e);\n        } catch (h) {\n            if (\"console\" in window) {\n                console.log(h);\n                console.trace();\n            }\n            return b;\n        }\n    }\n    function wa(b) {\n        var a = H(),\n            c = [\n                document.getElementsByTagName(\"pre\"),\n                document.getElementsByTagName(\"code\"),\n                document.getElementsByTagName(\"li\"),\n                document.getElementsByTagName(\"xmp\")\n            ],\n            d = [];\n        for (var g = 0; g < c.length; ++g)\n            for (var e = 0; e < c[g].length; ++e) d.push(c[g][e]);\n        c = null;\n        var h = 0;\n        function f() {\n            var i = new Date().getTime() + 250;\n            for (; h < d.length && new Date().getTime() < i; h++) {\n                var j = d[h];\n                if (j.className && j.className.indexOf(\"prettyprint\") >= 0) {\n                    var o = j.className.match(/\\blang-(\\w+)\\b/);\n                    if (o) o = o[1];\n                    var m = false;\n                    for (var k = j.parentNode; k; k = k.parentNode)\n                        if (\n                            (k.tagName === \"pre\" ||\n                                k.tagName === \"code\" ||\n                                k.tagName === \"xmp\") &&\n                            k.className &&\n                            k.className.indexOf(\"prettyprint\") >= 0\n                        ) {\n                            m = true;\n                            break;\n                        }\n                    if (!m) {\n                        var l = ha(j);\n                        l = l.replace(/(?:\\r\\n?|\\n)$/, \"\");\n                        var n = T(l, o);\n                        if (!S(j)) j.innerHTML = n;\n                        else {\n                            var p = document.createElement(\"PRE\");\n                            for (var t = 0; t < j.attributes.length; ++t) {\n                                var w = j.attributes[t];\n                                if (w.specified)\n                                    p.setAttribute(w.name, w.value);\n                            }\n                            p.innerHTML = n;\n                            j.parentNode.replaceChild(p, j);\n                            p = j;\n                        }\n                        if (a && j.tagName === \"PRE\") {\n                            var A = j.getElementsByTagName(\"br\");\n                            for (var B = A.length; --B >= 0; ) {\n                                var s = A[B];\n                                s.parentNode.replaceChild(\n                                    document.createTextNode(\"\\r\\n\"),\n                                    s\n                                );\n                            }\n                        }\n                    }\n                }\n            }\n            if (h < d.length) setTimeout(f, 250);\n            else if (b) b();\n        }\n        f();\n    }\n    window.PR_normalizedHtml = z;\n    window.prettyPrintOne = T;\n    window.prettyPrint = wa;\n    window.PR = {\n        createSimpleLexer: v,\n        registerLangHandler: q,\n        sourceDecorator: r,\n        PR_ATTRIB_NAME: \"atn\",\n        PR_ATTRIB_VALUE: \"atv\",\n        PR_COMMENT: \"com\",\n        PR_DECLARATION: \"dec\",\n        PR_KEYWORD: \"kwd\",\n        PR_LITERAL: \"lit\",\n        PR_PLAIN: \"pln\",\n        PR_PUNCTUATION: \"pun\",\n        PR_SOURCE: \"src\",\n        PR_STRING: \"str\",\n        PR_TAG: \"tag\",\n        PR_TYPE: \"typ\"\n    };\n})();\n","/*! Hammer.JS - v2.0.8 - 2016-04-23\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n!function(a,b,c,d){\"use strict\";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e=\"DEPRECATED METHOD: \"+c+\"\\n\"+d+\" AT \\n\";return function(){var c=new Error(\"get-stack-trace\"),d=c&&c.stack?c.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit(\"hammer.input\",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),\"identifier\",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),\"identifier\",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach(function(d){b[d]=c?a.CSS.supports(\"touch-action\",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?\"cancel\":a&qb?\"end\":a&pb?\"move\":a&ob?\"start\":\"\"}function $(a){return a==Ma?\"down\":a==La?\"up\":a==Ja?\"left\":a==Ka?\"right\":\"\"}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||\"\"}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent(\"Event\");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],na=b.createElement(\"div\"),oa=\"function\",pa=Math.round,qa=Math.abs,ra=Date.now;la=\"function\"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError(\"Cannot convert undefined or null to object\");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},\"extend\",\"Use `assign`.\"),ta=h(function(a,b){return sa(a,b,!0)},\"merge\",\"Use `assign`.\"),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa=\"ontouchstart\"in a,xa=u(a,\"PointerEvent\")!==d,ya=wa&&va.test(navigator.userAgent),za=\"touch\",Aa=\"pen\",Ba=\"mouse\",Ca=\"kinect\",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=[\"x\",\"y\"],Ra=[\"clientX\",\"clientY\"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta=\"mousedown\",Ua=\"mousemove mouseup\";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa=\"pointerdown\",Ya=\"pointermove pointerup pointercancel\";a.MSPointerEvent&&!a.PointerEvent&&(Xa=\"MSPointerDown\",Ya=\"MSPointerMove MSPointerUp MSPointerCancel\"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace(\"ms\",\"\"),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,\"pointerId\");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a=\"touchstart\",_a=\"touchstart touchmove touchend touchcancel\";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb=\"touchstart touchmove touchend touchcancel\";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,\"touchAction\"),fb=eb!==d,gb=\"compute\",hb=\"auto\",ib=\"manipulation\",jb=\"none\",kb=\"pan-x\",lb=\"pan-y\",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(\" \"))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,\"recognizeWith\",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,\"dropRecognizeWith\",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,\"requireFailure\",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,\"dropRequireFailure\",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:\"pan\",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:\"pinch\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?\"in\":\"out\";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:\"press\",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+\"up\",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:\"rotate\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:\"swipe\",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION=\"2.0.8\",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},[\"rotate\"]],[fa,{direction:Na}],[ba,{direction:Na},[\"swipe\"]],[ga],[ga,{event:\"doubletap\",taps:2},[\"tap\"]],[da]],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,\"add\",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,\"remove\",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb=\"undefined\"!=typeof a?a:\"undefined\"!=typeof self?self:{};wb.Hammer=ha,\"function\"==typeof define&&define.amd?define(function(){return ha}):\"undefined\"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,\"Hammer\");\n//# sourceMappingURL=hammer.min.js.map"],"names":["LineBasedGrader","constructor","problem","this","inverseLISIndices","arr","allSubsequences","i","length","subsequenceForCurrent","current","lastElementAdded","j","subsequent","push","longestSubsequence","longestSubsequenceLength","subs","indexes","lIndex","grade","clearFeedback","correctLines","percentLines","incorrectIndents","state","solutionLines","solution","answerLines","Math","min","max","correctLength","isCorrectOrder","checkCorrectOrdering","checkCorrectIndentation","calculatePercent","graderState","usesIndentation","indentLeft","indentRight","loopLimit","viewIndent","indent","solutionLength","text","numLines","lines","score","percent","hasPath","G","source","target","pred","succ","w","a","b","toString","Map","gpred","gsucc","predecessorsIter","bind","successorsIter","thisLevel","forwardFringe","reverseFringe","v","has","set","JSNetworkXNoPath","bidirectionalPredSucc","path","get","reverse","bidirectionalShortestPath","error","DiGraph","graph","node","adj","edge","addNode","n","addEdge","u","datadict","nodes","optData","Array","from","entries","keys","edges","optNbunch","edgesIter","nodesIter","toIterator","value","KeyError","numberOfNodes","size","nbunchIter","hasNode","ex","TypeError","JSNetworkXError","nodeNbrs","isObjectLike","Object","prototype","call","undefined","mapIterator","tuple2","nbrData","result","optCopy","H","name","addNodesFrom","addEdgesFrom","tuple3c","deepcopy","thisPred","thisSucc","nbrs","sprintf","successors","predecessors","JSNetworkXException","message","JSNetworkXAlgorithmError","super","JSNetworkXUnfeasible","graphToNX","line1","tag","line2tag","depends","isVertexCover","vertexCover","DAGGrader","inSolution","map","block","seen","Set","problematicSubgraph","line2","add","mvc","subsets","pow","bin","subset","allSubsets","blocks","isDistractor","curIndent","expectedIndent","solutionIndent","orderExplored","explored","fringe","pop","newNodes","forEach","_","apply","unshift","topologicalSort","isDirectedAcyclicGraph","line","distractor","ParsonsLine","codestring","displaymath","index","view","trimmed","replace","options","scaffolding","noindent","language","toLowerCase","startsWith","allLines","some","trimStart","document","createElement","$","addClass","prettifyLanguage","id","counterId","innerHTML","initializeWidth","width","outerWidth","pixelsPerIndent","fontSize","window","getComputedStyle","getPropertyValue","tempCanvasCtx","getContext","possibleFonts","split","fillerText","font","serifWidth","measureText","includes","replaceAll","fontFamily","ParsonsBlock","labels","blockIndex","sharedIndent","lineDiv","append","lineIndent","removeClass","appendChild","labelDiv","numbered","prepend","css","float","isPlaceholder","addLine","children","consumeBlock","attr","makeTabIndex","detach","newBlocks","addLabel","updateView","addIndent","areaWidth","label","div","createTextNode","offsetHeight","initializeInteractivity","hasClass","hammer","recognizers","direction","threshold","pointers","that","on","event","panStart","panEnd","panMove","enabled","inSourceArea","sourceArea","childNodes","pageXCenter","boundingRect","getBoundingClientRect","pageXOffset","left","pageYCenter","pageYOffset","top","height","minimumLineIndent","slideUnderBlock","sourceBlocks","pairedBin","pairedBins","matchesBin","test","indexOf","validSourceIndexes","lastBin","blockBin","verticalOffset","answerArea","bottom","newFocus","textFocus","enterKeyboardMode","textMove","textMoving","releaseFocus","logMove","updatePlaceholders","exitKeyboardMode","unbind","focus","blur","keydown","keyDown","disable","enable","removeAttr","initializeTabIndex","resetView","hasAttribute","opacity","destroy","started","moving","movingX","srcEvent","pageX","movingY","pageY","isAnswered","keyCode","moveLeft","selectLeft","moveUp","selectUp","preventDefault","moveRight","selectRight","moveDown","selectDown","toggleMove","offset","insertBefore","answerBlocks","item","myIndex","enabledSourceBlocks","chooseNext","chooseOffset","itemOffset","abs","enabledAnswerBlocks","hash","PlaceholderBlock","placeholderLines","placeholderSize","afterSettledBlockCount","content","innerText","PlaceholderLine","isPlaceholderLine","SettledBlock","isSettled","tooltipSpan","classList","find","setBlocksBefore","num","blocksBefore","beforePlural","blocksAfter","afterPlural","html","setBlocksAfter","Parsons","opts","orig","containerDiv","origElem","question","useRunestoneServices","divid","storageId","localStorageKey","contentArray","counter","initializeOptions","grader","showfeedback","fulltext","checkCount","numDistinct","hasSolved","initializeLines","trim","initializeView","caption","addCaption","checkServer","runnableDiv","maxdist","data","order","adaptive","match","parseInt","initializeAdaptive","locale","eBookConfig","python","java","javascript","c","cpp","ruby","outerDiv","parsonsTextDiv","querySelector","contains","keyboardTip","i18n","hide","sortContainerDiv","sourceRegionDiv","sourceLabel","answerRegionDiv","answerLabel","parsonsControlDiv","checkButton","textContent","type","addEventListener","checkCurrentAnswer","logCurrentAnswer","renderFeedback","resetButton","prop","setLocalStorage","helpButton","disabled","helpMe","messageDiv","setAttribute","style","visibility","replaceWith","closest","remove","textBlocks","indents","placeholderNeeded","textBlock","distractHelptext","distractIndex","substring","settledIndex","tagIndex","s","dependsIndex","dependsString","mystring","arg1","placeholderLine","paired","groupWithNext","code","inArray","classLineIndent","methodLineIndent","lineText","sort","originalIndent","normalizedLevel","initializeAreas","replaceElement","isHidden","offsetParent","body","Prism","prettyPrint","lang","codeEls","querySelectorAll","el","highlightAllUnder","maxSourceAreaWidth","offsetWidth","areaHeight","maxFunction","height_add","self","async","runestoneMathReady","then","queueMathJax","MathJax","startup","addition","outerH","outerHeight","isTimed","bins","lineNumbers","pairedDivs","pairDistractors","pairedDiv","addBlockLabels","concat","newerData","dataA","dataB","dateA","timestamp","dateB","dateFromTimestamp","loadData","sourceHash","trash","answerHash","answer","adaptiveHash","optionsFromHash","blocksFromSource","settledBlocksFromSource","needsReinitialization","assessmentTaken","blocksFromHash","correct","localData","localStorage","getItem","charAt","JSON","parse","restoreAnswers","serverData","checkLocalStorage","graderactive","toStore","Date","setItem","stringify","setTimeout","hasNormalBlock","placeholder","contentLength","prevIsSettled","firstBlockSettled","settledCount","lastBlockSettled","placeholderIndex","console","log","activity","div_id","storageid","act","logBookEvent","sid","join","key","slice","adaptBlocks","input","distractors","recentAttempts","adaptiveId","lastestAttemptCount","nBlocks","nBlocksToCombine","nDistractors","nToRemove","limitDistractors","shuffled","output","best","combineIndex","next","rating","blockIndent","nextIndent","newSolution","combinedOutput","originalBlocks","unorderedBlocks","removedBlocks","chunks","chunk","random","splice","indexTo","indexFrom","blockFromHash","Number","answerBlocksCount","settledBlocksBeforeCount","prevSettledBlock","prevPlaceholderSize","getBlockById","solutionBlocks","nextBlock","child","all","getBlockFor","element","check","parentElement","copyBtn","canHelp","lastAnswerHash","gotHelp","alert","runnable","display","generateRunableVersion","getElementById","parsonsText","l","repeat","textEl","dataset","component","runestoneComponents","renderOneComponent","feedbackArea","incorrectBlocks","inSolutionIndexes","notInSolution","lisIndexes","count","distractorToRemove","numberOfBlocks","fIncludeDistractors","removeDistractor","animate","duration","complete","sourceRect","startX","startY","endX","endY","sqrt","start","progress","p","removeIndentation","blockWidth","expandedWidth","getSolutionBlockInSource","currBlock","getFurthestBlock","maxDist","dist","maxBlock","indexSol","prevBlock","indexPrev","combineBlocks","block1","block2","index1","index2","move","subtract","makeEasier","date","isNaN","getTime","t","array","temporaryValue","randomIndex","currentIndex","returnArray","floor","show","disableInteraction","checkServerComplete","movingState","x","y","bounds","right","movingHeight","positionTop","newState","updateSource","updateAnswer","updateMoving","baseWidth","hasInserted","movingBin","binForBlock","insertPositions","testHeight","appendTo","matching","overflow","color","movingIndent","round","before","binCount","binChildren","blocksNotInBins","currentBin","String","fromCharCode","scrollTop","each","componentMap","err","stack","TimedParsons","timedfeedback","hideFeedback","checkCorrectTimed","component_factory","timed","load","msg_parson_check_me","msg_parson_reset","msg_parson_help","msg_parson_too_short","msg_parson_drag_from_here","msg_parson_drag_to_here","msg_parson_correct_first_try","msg_parson_correct","msg_parson_wrong_indent","msg_parson_wrong_indents","msg_parson_wrong_order","msg_parson_arrow_navigate","msg_parson_help_info","msg_parson_not_solution","msg_parson_provided_indent","msg_parson_combined_blocks","msg_parson_remove_incorrect","msg_parson_will_combine","msg_parson_atleast_three_attempts","msg_parson_three_blocks_left","msg_parson_will_provide_indent","en","msg_parson_correct_runnable","navigator","userAgent","D","U","I","J","K","L","M","N","O","W","X","d","Y","RegExp","P","Q","R","Z","E","aa","ba","ca","da","ea","fa","ga","g","e","S","tagName","z","nodeType","attributes","specified","firstChild","nextSibling","nodeValue","F","ha","ja","ka","la","ma","h","f","o","k","m","oa","qa","r","tripleQuotedStrings","multiLineStrings","hashComments","cStyleComments","regexLiterals","keywords","A","B","C","q","hasOwnProperty","T","tags","na","ia","va","trace","pa","ra","sa","ta","PR_normalizedHtml","prettyPrintOne","getElementsByTagName","className","parentNode","replaceChild","PR","createSimpleLexer","registerLangHandler","sourceDecorator","PR_ATTRIB_NAME","PR_ATTRIB_VALUE","PR_COMMENT","PR_DECLARATION","PR_KEYWORD","PR_LITERAL","PR_PLAIN","PR_PUNCTUATION","PR_SOURCE","PR_STRING","PR_TAG","PR_TYPE","isArray","Error","warn","arguments","create","_super","removeEventListener","toUpperCase","ownerDocument","defaultView","parentWindow","manager","callback","inputTarget","domHandler","handler","init","changedPointers","Ea","Ga","Ha","isFirst","isFinal","session","eventType","firstInput","firstMultiple","center","timeStamp","deltaTime","angle","distance","offsetDelta","prevDelta","prevInput","deltaX","deltaY","offsetDirection","overallVelocityX","overallVelocityY","overallVelocity","scale","Ra","rotation","maxPointers","emit","recognize","lastInterval","Da","velocity","velocityX","velocityY","clientX","clientY","Ia","Ja","Ka","La","Ma","Qa","atan2","PI","evEl","Ta","evWin","Ua","pressed","Xa","Ya","store","pointerEvents","evTarget","$a","_a","touches","changedTouches","bb","targetIds","Fa","identifier","filter","touch","mouse","primaryTouch","lastTouches","cb","db","V","defaults","ua","nb","simultaneous","requireFail","sb","qb","pb","ob","pX","pY","_timer","_input","pTime","pCenter","preset","handlers","oldCssProps","inputClass","xa","ya","wa","touchAction","recognizeWith","requireFailure","cssProps","createEvent","initEvent","gesture","dispatchEvent","now","assign","za","Ba","Na","Oa","Pa","Sa","mousedown","mousemove","mouseup","button","which","pointerType","Va","pointerdown","pointermove","pointerup","pointercancel","pointerout","Wa","MSPointerEvent","PointerEvent","pointerId","Za","touchstart","touchmove","touchend","touchcancel","ab","sourceCapabilities","firesTouchEvents","eb","fb","gb","hb","ib","jb","kb","lb","mb","CSS","supports","compute","actions","update","getTouchAction","preventDefaults","prevented","preventSrc","rb","tb","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","process","reset","attrTest","directionTest","time","clearTimeout","taps","interval","posThreshold","failTimeout","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","stopped","curRecognizer","off","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Manager","Input","TouchAction","TouchInput","MouseInput","PointerEventInput","TouchMouseInput","SingleTouchInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","merge","extend","inherit","bindFn","prefixed","Hammer"],"sourceRoot":""}